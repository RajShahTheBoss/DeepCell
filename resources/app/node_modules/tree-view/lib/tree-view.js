(function() {
  var AddDialog, BufferedProcess, CompositeDisposable, CopyDialog, Directory, DirectoryView, Emitter, Minimatch, MoveDialog, RootDragAndDrop, TREE_VIEW_URI, TreeView, _, fs, getFullExtension, getStyleObject, nextId, path, ref, ref1, repoForPath, shell, toggleConfig, updateEditorsForPath,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    slice = [].slice,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  path = require('path');

  shell = require('electron').shell;

  _ = require('underscore-plus');

  ref = require('atom'), BufferedProcess = ref.BufferedProcess, CompositeDisposable = ref.CompositeDisposable, Emitter = ref.Emitter;

  ref1 = require("./helpers"), repoForPath = ref1.repoForPath, getStyleObject = ref1.getStyleObject, getFullExtension = ref1.getFullExtension, updateEditorsForPath = ref1.updateEditorsForPath;

  fs = require('fs-plus');

  AddDialog = require('./add-dialog');

  MoveDialog = require('./move-dialog');

  CopyDialog = require('./copy-dialog');

  Minimatch = null;

  Directory = require('./directory');

  DirectoryView = require('./directory-view');

  RootDragAndDrop = require('./root-drag-and-drop');

  TREE_VIEW_URI = 'atom://tree-view';

  toggleConfig = function(keyPath) {
    return atom.config.set(keyPath, !atom.config.get(keyPath));
  };

  nextId = 1;

  module.exports = TreeView = (function() {
    function TreeView(state) {
      this.onDragLeave = bind(this.onDragLeave, this);
      this.onDragEnter = bind(this.onDragEnter, this);
      this.onStylesheetsChanged = bind(this.onStylesheetsChanged, this);
      var observer;
      this.id = nextId++;
      this.element = document.createElement('div');
      this.element.classList.add('tool-panel', 'tree-view');
      this.element.tabIndex = -1;
      this.list = document.createElement('ol');
      this.list.classList.add('full-menu', 'list-tree', 'has-collapsable-children', 'focusable-panel');
      this.element.appendChild(this.list);
      this.disposables = new CompositeDisposable;
      this.emitter = new Emitter;
      this.roots = [];
      this.selectedPath = null;
      this.ignoredPatterns = [];
      this.useSyncFS = false;
      this.currentlyOpening = new Map;
      this.dragEventCounts = new WeakMap;
      this.rootDragAndDrop = new RootDragAndDrop(this);
      this.handleEvents();
      process.nextTick((function(_this) {
        return function() {
          var onStylesheetsChanged;
          _this.onStylesheetsChanged();
          onStylesheetsChanged = _.debounce(_this.onStylesheetsChanged, 100);
          _this.disposables.add(atom.styles.onDidAddStyleElement(onStylesheetsChanged));
          _this.disposables.add(atom.styles.onDidRemoveStyleElement(onStylesheetsChanged));
          return _this.disposables.add(atom.styles.onDidUpdateStyleElement(onStylesheetsChanged));
        };
      })(this));
      this.updateRoots(state.directoryExpansionStates);
      this.selectEntry(this.roots[0]);
      if (state.selectedPath) {
        this.selectEntryForPath(state.selectedPath);
      }
      if ((state.scrollTop != null) || (state.scrollLeft != null)) {
        observer = new IntersectionObserver((function(_this) {
          return function() {
            if (_this.isVisible()) {
              _this.element.scrollTop = state.scrollTop;
              _this.element.scrollLeft = state.scrollLeft;
              return observer.disconnect();
            }
          };
        })(this));
        observer.observe(this.element);
      }
      if (state.width > 0) {
        this.element.style.width = state.width + "px";
      }
      this.disposables.add(this.onEntryMoved(function(arg) {
        var initialPath, newPath;
        initialPath = arg.initialPath, newPath = arg.newPath;
        return updateEditorsForPath(initialPath, newPath);
      }));
      this.disposables.add(this.onEntryDeleted(function(arg) {
        var editor, j, len, path, ref2, ref3, results;
        path = arg.path;
        ref2 = atom.workspace.getTextEditors();
        results = [];
        for (j = 0, len = ref2.length; j < len; j++) {
          editor = ref2[j];
          if (editor != null ? (ref3 = editor.getPath()) != null ? ref3.startsWith(path) : void 0 : void 0) {
            results.push(editor.destroy());
          } else {
            results.push(void 0);
          }
        }
        return results;
      }));
    }

    TreeView.prototype.serialize = function() {
      var ref2;
      return {
        directoryExpansionStates: new (function(roots) {
          var j, len, root;
          for (j = 0, len = roots.length; j < len; j++) {
            root = roots[j];
            this[root.directory.path] = root.directory.serializeExpansionState();
          }
          return this;
        })(this.roots),
        deserializer: 'TreeView',
        selectedPath: (ref2 = this.selectedEntry()) != null ? ref2.getPath() : void 0,
        scrollLeft: this.element.scrollLeft,
        scrollTop: this.element.scrollTop,
        width: parseInt(this.element.style.width || 0)
      };
    };

    TreeView.prototype.destroy = function() {
      var j, len, ref2, root;
      ref2 = this.roots;
      for (j = 0, len = ref2.length; j < len; j++) {
        root = ref2[j];
        root.directory.destroy();
      }
      this.disposables.dispose();
      this.rootDragAndDrop.dispose();
      return this.emitter.emit('did-destroy');
    };

    TreeView.prototype.onDidDestroy = function(callback) {
      return this.emitter.on('did-destroy', callback);
    };

    TreeView.prototype.getTitle = function() {
      return "Project";
    };

    TreeView.prototype.getURI = function() {
      return TREE_VIEW_URI;
    };

    TreeView.prototype.getPreferredLocation = function() {
      if (atom.config.get('tree-view.showOnRightSide')) {
        return 'right';
      } else {
        return 'left';
      }
    };

    TreeView.prototype.getAllowedLocations = function() {
      return ["left", "right"];
    };

    TreeView.prototype.isPermanentDockItem = function() {
      return true;
    };

    TreeView.prototype.getPreferredWidth = function() {
      var result;
      this.list.style.width = 'min-content';
      result = this.list.offsetWidth;
      this.list.style.width = '';
      return result;
    };

    TreeView.prototype.onDirectoryCreated = function(callback) {
      return this.emitter.on('directory-created', callback);
    };

    TreeView.prototype.onEntryCopied = function(callback) {
      return this.emitter.on('entry-copied', callback);
    };

    TreeView.prototype.onEntryDeleted = function(callback) {
      return this.emitter.on('entry-deleted', callback);
    };

    TreeView.prototype.onEntryMoved = function(callback) {
      return this.emitter.on('entry-moved', callback);
    };

    TreeView.prototype.onFileCreated = function(callback) {
      return this.emitter.on('file-created', callback);
    };

    TreeView.prototype.handleEvents = function() {
      this.element.addEventListener('click', (function(_this) {
        return function(e) {
          if (e.target.classList.contains('entries')) {
            return;
          }
          if (!(e.shiftKey || e.metaKey || e.ctrlKey)) {
            return _this.entryClicked(e);
          }
        };
      })(this));
      this.element.addEventListener('mousedown', (function(_this) {
        return function(e) {
          return _this.onMouseDown(e);
        };
      })(this));
      this.element.addEventListener('dragstart', (function(_this) {
        return function(e) {
          return _this.onDragStart(e);
        };
      })(this));
      this.element.addEventListener('dragenter', (function(_this) {
        return function(e) {
          return _this.onDragEnter(e);
        };
      })(this));
      this.element.addEventListener('dragleave', (function(_this) {
        return function(e) {
          return _this.onDragLeave(e);
        };
      })(this));
      this.element.addEventListener('dragover', (function(_this) {
        return function(e) {
          return _this.onDragOver(e);
        };
      })(this));
      this.element.addEventListener('drop', (function(_this) {
        return function(e) {
          return _this.onDrop(e);
        };
      })(this));
      atom.commands.add(this.element, {
        'core:move-up': this.moveUp.bind(this),
        'core:move-down': this.moveDown.bind(this),
        'core:page-up': (function(_this) {
          return function() {
            return _this.pageUp();
          };
        })(this),
        'core:page-down': (function(_this) {
          return function() {
            return _this.pageDown();
          };
        })(this),
        'core:move-to-top': (function(_this) {
          return function() {
            return _this.scrollToTop();
          };
        })(this),
        'core:move-to-bottom': (function(_this) {
          return function() {
            return _this.scrollToBottom();
          };
        })(this),
        'tree-view:expand-item': (function(_this) {
          return function() {
            return _this.openSelectedEntry({
              pending: true
            }, true);
          };
        })(this),
        'tree-view:recursive-expand-directory': (function(_this) {
          return function() {
            return _this.expandDirectory(true);
          };
        })(this),
        'tree-view:collapse-directory': (function(_this) {
          return function() {
            return _this.collapseDirectory();
          };
        })(this),
        'tree-view:recursive-collapse-directory': (function(_this) {
          return function() {
            return _this.collapseDirectory(true);
          };
        })(this),
        'tree-view:open-selected-entry': (function(_this) {
          return function() {
            return _this.openSelectedEntry();
          };
        })(this),
        'tree-view:open-selected-entry-right': (function(_this) {
          return function() {
            return _this.openSelectedEntryRight();
          };
        })(this),
        'tree-view:open-selected-entry-left': (function(_this) {
          return function() {
            return _this.openSelectedEntryLeft();
          };
        })(this),
        'tree-view:open-selected-entry-up': (function(_this) {
          return function() {
            return _this.openSelectedEntryUp();
          };
        })(this),
        'tree-view:open-selected-entry-down': (function(_this) {
          return function() {
            return _this.openSelectedEntryDown();
          };
        })(this),
        'tree-view:move': (function(_this) {
          return function() {
            return _this.moveSelectedEntry();
          };
        })(this),
        'tree-view:copy': (function(_this) {
          return function() {
            return _this.copySelectedEntries();
          };
        })(this),
        'tree-view:cut': (function(_this) {
          return function() {
            return _this.cutSelectedEntries();
          };
        })(this),
        'tree-view:paste': (function(_this) {
          return function() {
            return _this.pasteEntries();
          };
        })(this),
        'tree-view:copy-full-path': (function(_this) {
          return function() {
            return _this.copySelectedEntryPath(false);
          };
        })(this),
        'tree-view:show-in-file-manager': (function(_this) {
          return function() {
            return _this.showSelectedEntryInFileManager();
          };
        })(this),
        'tree-view:open-in-new-window': (function(_this) {
          return function() {
            return _this.openSelectedEntryInNewWindow();
          };
        })(this),
        'tree-view:copy-project-path': (function(_this) {
          return function() {
            return _this.copySelectedEntryPath(true);
          };
        })(this),
        'tool-panel:unfocus': (function(_this) {
          return function() {
            return _this.unfocus();
          };
        })(this),
        'tree-view:toggle-vcs-ignored-files': function() {
          return toggleConfig('tree-view.hideVcsIgnoredFiles');
        },
        'tree-view:toggle-ignored-names': function() {
          return toggleConfig('tree-view.hideIgnoredNames');
        },
        'tree-view:remove-project-folder': (function(_this) {
          return function(e) {
            return _this.removeProjectFolder(e);
          };
        })(this)
      });
      [0, 1, 2, 3, 4, 5, 6, 7, 8].forEach((function(_this) {
        return function(index) {
          return atom.commands.add(_this.element, "tree-view:open-selected-entry-in-pane-" + (index + 1), function() {
            return _this.openSelectedEntryInPane(index);
          });
        };
      })(this));
      this.disposables.add(atom.workspace.getCenter().onDidChangeActivePaneItem((function(_this) {
        return function() {
          _this.selectActiveFile();
          if (atom.config.get('tree-view.autoReveal')) {
            return _this.revealActiveFile(false);
          }
        };
      })(this)));
      this.disposables.add(atom.project.onDidChangePaths((function(_this) {
        return function() {
          return _this.updateRoots();
        };
      })(this)));
      this.disposables.add(atom.config.onDidChange('tree-view.hideVcsIgnoredFiles', (function(_this) {
        return function() {
          return _this.updateRoots();
        };
      })(this)));
      this.disposables.add(atom.config.onDidChange('tree-view.hideIgnoredNames', (function(_this) {
        return function() {
          return _this.updateRoots();
        };
      })(this)));
      this.disposables.add(atom.config.onDidChange('core.ignoredNames', (function(_this) {
        return function() {
          if (atom.config.get('tree-view.hideIgnoredNames')) {
            return _this.updateRoots();
          }
        };
      })(this)));
      this.disposables.add(atom.config.onDidChange('tree-view.sortFoldersBeforeFiles', (function(_this) {
        return function() {
          return _this.updateRoots();
        };
      })(this)));
      return this.disposables.add(atom.config.onDidChange('tree-view.squashDirectoryNames', (function(_this) {
        return function() {
          return _this.updateRoots();
        };
      })(this)));
    };

    TreeView.prototype.toggle = function() {
      return atom.workspace.toggle(this);
    };

    TreeView.prototype.show = function(focus) {
      return atom.workspace.open(this, {
        searchAllPanes: true,
        activatePane: false,
        activateItem: false
      }).then((function(_this) {
        return function() {
          atom.workspace.paneContainerForURI(_this.getURI()).show();
          if (focus) {
            return _this.focus();
          }
        };
      })(this));
    };

    TreeView.prototype.hide = function() {
      return atom.workspace.hide(this);
    };

    TreeView.prototype.focus = function() {
      return this.element.focus();
    };

    TreeView.prototype.unfocus = function() {
      return atom.workspace.getCenter().activate();
    };

    TreeView.prototype.hasFocus = function() {
      return document.activeElement === this.element;
    };

    TreeView.prototype.toggleFocus = function() {
      if (this.hasFocus()) {
        return this.unfocus();
      } else {
        return this.show(true);
      }
    };

    TreeView.prototype.entryClicked = function(e) {
      var entry, isRecursive;
      if (entry = e.target.closest('.entry')) {
        isRecursive = e.altKey || false;
        this.selectEntry(entry);
        if (entry.classList.contains('directory')) {
          return entry.toggleExpansion(isRecursive);
        } else if (entry.classList.contains('file')) {
          return this.fileViewEntryClicked(e);
        }
      }
    };

    TreeView.prototype.fileViewEntryClicked = function(e) {
      var alwaysOpenExisting, detail, filePath, openPromise, ref2;
      filePath = e.target.closest('.entry').getPath();
      detail = (ref2 = e.detail) != null ? ref2 : 1;
      alwaysOpenExisting = atom.config.get('tree-view.alwaysOpenExisting');
      if (detail === 1) {
        if (atom.config.get('core.allowPendingPaneItems')) {
          openPromise = atom.workspace.open(filePath, {
            pending: true,
            activatePane: false,
            searchAllPanes: alwaysOpenExisting
          });
          this.currentlyOpening.set(filePath, openPromise);
          return openPromise.then((function(_this) {
            return function() {
              return _this.currentlyOpening["delete"](filePath);
            };
          })(this));
        }
      } else if (detail === 2) {
        return this.openAfterPromise(filePath, {
          searchAllPanes: alwaysOpenExisting
        });
      }
    };

    TreeView.prototype.openAfterPromise = function(uri, options) {
      var promise;
      if (promise = this.currentlyOpening.get(uri)) {
        return promise.then(function() {
          return atom.workspace.open(uri, options);
        });
      } else {
        return atom.workspace.open(uri, options);
      }
    };

    TreeView.prototype.loadIgnoredPatterns = function() {
      var error, ignoredName, ignoredNames, j, len, ref2, results;
      this.ignoredPatterns.length = 0;
      if (!atom.config.get('tree-view.hideIgnoredNames')) {
        return;
      }
      if (Minimatch == null) {
        Minimatch = require('minimatch').Minimatch;
      }
      ignoredNames = (ref2 = atom.config.get('core.ignoredNames')) != null ? ref2 : [];
      if (typeof ignoredNames === 'string') {
        ignoredNames = [ignoredNames];
      }
      results = [];
      for (j = 0, len = ignoredNames.length; j < len; j++) {
        ignoredName = ignoredNames[j];
        if (ignoredName) {
          try {
            results.push(this.ignoredPatterns.push(new Minimatch(ignoredName, {
              matchBase: true,
              dot: true
            })));
          } catch (error1) {
            error = error1;
            results.push(atom.notifications.addWarning("Error parsing ignore pattern (" + ignoredName + ")", {
              detail: error.message
            }));
          }
        }
      }
      return results;
    };

    TreeView.prototype.updateRoots = function(expansionStates) {
      var directory, j, key, len, oldExpansionStates, projectPath, ref2, root, stats;
      if (expansionStates == null) {
        expansionStates = {};
      }
      oldExpansionStates = {};
      ref2 = this.roots;
      for (j = 0, len = ref2.length; j < len; j++) {
        root = ref2[j];
        oldExpansionStates[root.directory.path] = root.directory.serializeExpansionState();
        root.directory.destroy();
        root.remove();
      }
      this.loadIgnoredPatterns();
      return this.roots = (function() {
        var k, l, len1, len2, ref3, ref4, ref5, ref6, results;
        ref3 = atom.project.getPaths();
        results = [];
        for (k = 0, len1 = ref3.length; k < len1; k++) {
          projectPath = ref3[k];
          stats = fs.lstatSyncNoException(projectPath);
          if (!stats) {
            continue;
          }
          stats = _.pick.apply(_, [stats].concat(slice.call(_.keys(stats))));
          ref4 = ["atime", "birthtime", "ctime", "mtime"];
          for (l = 0, len2 = ref4.length; l < len2; l++) {
            key = ref4[l];
            stats[key] = stats[key].getTime();
          }
          directory = new Directory({
            name: path.basename(projectPath),
            fullPath: projectPath,
            symlink: false,
            isRoot: true,
            expansionState: (ref5 = (ref6 = expansionStates[projectPath]) != null ? ref6 : oldExpansionStates[projectPath]) != null ? ref5 : {
              isExpanded: true
            },
            ignoredPatterns: this.ignoredPatterns,
            useSyncFS: this.useSyncFS,
            stats: stats
          });
          root = new DirectoryView(directory).element;
          this.list.appendChild(root);
          results.push(root);
        }
        return results;
      }).call(this);
    };

    TreeView.prototype.getActivePath = function() {
      var ref2;
      return (ref2 = atom.workspace.getCenter().getActivePaneItem()) != null ? typeof ref2.getPath === "function" ? ref2.getPath() : void 0 : void 0;
    };

    TreeView.prototype.selectActiveFile = function() {
      var activeFilePath;
      if (activeFilePath = this.getActivePath()) {
        return this.selectEntryForPath(activeFilePath);
      }
    };

    TreeView.prototype.revealActiveFile = function(focus) {
      if (_.isEmpty(atom.project.getPaths())) {
        return Promise.resolve();
      }
      return this.show(focus != null ? focus : atom.config.get('tree-view.focusOnReveal')).then((function(_this) {
        return function() {
          var activeFilePath, activePathComponents, currentPath, entry, j, len, pathComponent, ref2, relativePath, results, rootPath;
          if (!(activeFilePath = _this.getActivePath())) {
            return;
          }
          ref2 = atom.project.relativizePath(activeFilePath), rootPath = ref2[0], relativePath = ref2[1];
          if (rootPath == null) {
            return;
          }
          activePathComponents = relativePath.split(path.sep);
          currentPath = rootPath;
          results = [];
          for (j = 0, len = activePathComponents.length; j < len; j++) {
            pathComponent = activePathComponents[j];
            currentPath += path.sep + pathComponent;
            entry = _this.entryForPath(currentPath);
            if (entry.classList.contains('directory')) {
              results.push(entry.expand());
            } else {
              _this.selectEntry(entry);
              results.push(_this.scrollToEntry(entry));
            }
          }
          return results;
        };
      })(this));
    };

    TreeView.prototype.copySelectedEntryPath = function(relativePath) {
      var pathToCopy;
      if (relativePath == null) {
        relativePath = false;
      }
      if (pathToCopy = this.selectedPath) {
        if (relativePath) {
          pathToCopy = atom.project.relativize(pathToCopy);
        }
        return atom.clipboard.write(pathToCopy);
      }
    };

    TreeView.prototype.entryForPath = function(entryPath) {
      var bestMatchEntry, bestMatchLength, entry, entryLength, j, len, ref2, ref3;
      bestMatchEntry = null;
      bestMatchLength = 0;
      ref2 = this.list.querySelectorAll('.entry');
      for (j = 0, len = ref2.length; j < len; j++) {
        entry = ref2[j];
        if (entry.isPathEqual(entryPath)) {
          return entry;
        }
        entryLength = entry.getPath().length;
        if (((ref3 = entry.directory) != null ? ref3.contains(entryPath) : void 0) && entryLength > bestMatchLength) {
          bestMatchEntry = entry;
          bestMatchLength = entryLength;
        }
      }
      return bestMatchEntry;
    };

    TreeView.prototype.selectEntryForPath = function(entryPath) {
      return this.selectEntry(this.entryForPath(entryPath));
    };

    TreeView.prototype.moveDown = function(event) {
      var nextEntry, selectedEntry;
      if (event != null) {
        event.stopImmediatePropagation();
      }
      selectedEntry = this.selectedEntry();
      if (selectedEntry != null) {
        if (selectedEntry.classList.contains('directory')) {
          if (this.selectEntry(selectedEntry.entries.children[0])) {
            this.scrollToEntry(this.selectedEntry());
            return;
          }
        }
        if (nextEntry = this.nextEntry(selectedEntry)) {
          this.selectEntry(nextEntry);
        }
      } else {
        this.selectEntry(this.roots[0]);
      }
      return this.scrollToEntry(this.selectedEntry());
    };

    TreeView.prototype.moveUp = function(event) {
      var entries, previousEntry, selectedEntry;
      event.stopImmediatePropagation();
      selectedEntry = this.selectedEntry();
      if (selectedEntry != null) {
        if (previousEntry = this.previousEntry(selectedEntry)) {
          this.selectEntry(previousEntry);
          if (previousEntry.classList.contains('directory')) {
            this.selectEntry(_.last(previousEntry.entries.children));
          }
        } else {
          this.selectEntry(selectedEntry.parentElement.closest('.directory'));
        }
      } else {
        entries = this.list.querySelectorAll('.entry');
        this.selectEntry(entries[entries.length - 1]);
      }
      return this.scrollToEntry(this.selectedEntry());
    };

    TreeView.prototype.nextEntry = function(entry) {
      var currentEntry;
      currentEntry = entry;
      while (currentEntry != null) {
        if (currentEntry.nextSibling != null) {
          currentEntry = currentEntry.nextSibling;
          if (currentEntry.matches('.entry')) {
            return currentEntry;
          }
        } else {
          currentEntry = currentEntry.parentElement.closest('.directory');
        }
      }
      return null;
    };

    TreeView.prototype.previousEntry = function(entry) {
      var currentEntry;
      currentEntry = entry;
      while (currentEntry != null) {
        currentEntry = currentEntry.previousSibling;
        if (currentEntry != null ? currentEntry.matches('.entry') : void 0) {
          return currentEntry;
        }
      }
      return null;
    };

    TreeView.prototype.expandDirectory = function(isRecursive) {
      var selectedEntry;
      if (isRecursive == null) {
        isRecursive = false;
      }
      selectedEntry = this.selectedEntry();
      if (selectedEntry == null) {
        return;
      }
      if (isRecursive === false && selectedEntry.isExpanded) {
        if (selectedEntry.directory.getEntries().length > 0) {
          return this.moveDown();
        }
      } else {
        return selectedEntry.expand(isRecursive);
      }
    };

    TreeView.prototype.collapseDirectory = function(isRecursive) {
      var directory, selectedEntry;
      if (isRecursive == null) {
        isRecursive = false;
      }
      selectedEntry = this.selectedEntry();
      if (selectedEntry == null) {
        return;
      }
      if (directory = selectedEntry.closest('.expanded.directory')) {
        directory.collapse(isRecursive);
        return this.selectEntry(directory);
      }
    };

    TreeView.prototype.openSelectedEntry = function(options, expandDirectory) {
      var selectedEntry;
      if (options == null) {
        options = {};
      }
      if (expandDirectory == null) {
        expandDirectory = false;
      }
      selectedEntry = this.selectedEntry();
      if (selectedEntry == null) {
        return;
      }
      if (selectedEntry.classList.contains('directory')) {
        if (expandDirectory) {
          return this.expandDirectory(false);
        } else {
          return selectedEntry.toggleExpansion();
        }
      } else if (selectedEntry.classList.contains('file')) {
        if (atom.config.get('tree-view.alwaysOpenExisting')) {
          options = Object.assign({
            searchAllPanes: true
          }, options);
        }
        return this.openAfterPromise(selectedEntry.getPath(), options);
      }
    };

    TreeView.prototype.openSelectedEntrySplit = function(orientation, side) {
      var pane, selectedEntry, split;
      selectedEntry = this.selectedEntry();
      if (selectedEntry == null) {
        return;
      }
      pane = atom.workspace.getCenter().getActivePane();
      if (pane && selectedEntry.classList.contains('file')) {
        if (atom.workspace.getCenter().getActivePaneItem()) {
          split = pane.split(orientation, side);
          return atom.workspace.openURIInPane(selectedEntry.getPath(), split);
        } else {
          return this.openSelectedEntry(true);
        }
      }
    };

    TreeView.prototype.openSelectedEntryRight = function() {
      return this.openSelectedEntrySplit('horizontal', 'after');
    };

    TreeView.prototype.openSelectedEntryLeft = function() {
      return this.openSelectedEntrySplit('horizontal', 'before');
    };

    TreeView.prototype.openSelectedEntryUp = function() {
      return this.openSelectedEntrySplit('vertical', 'before');
    };

    TreeView.prototype.openSelectedEntryDown = function() {
      return this.openSelectedEntrySplit('vertical', 'after');
    };

    TreeView.prototype.openSelectedEntryInPane = function(index) {
      var pane, selectedEntry;
      selectedEntry = this.selectedEntry();
      if (selectedEntry == null) {
        return;
      }
      pane = atom.workspace.getCenter().getPanes()[index];
      if (pane && selectedEntry.classList.contains('file')) {
        return atom.workspace.openURIInPane(selectedEntry.getPath(), pane);
      }
    };

    TreeView.prototype.moveSelectedEntry = function() {
      var dialog, entry, oldPath;
      if (this.hasFocus()) {
        entry = this.selectedEntry();
        if ((entry == null) || indexOf.call(this.roots, entry) >= 0) {
          return;
        }
        oldPath = entry.getPath();
      } else {
        oldPath = this.getActivePath();
      }
      if (oldPath) {
        dialog = new MoveDialog(oldPath, {
          onMove: (function(_this) {
            return function(arg) {
              var initialPath, newPath;
              initialPath = arg.initialPath, newPath = arg.newPath;
              return _this.emitter.emit('entry-moved', {
                initialPath: initialPath,
                newPath: newPath
              });
            };
          })(this)
        });
        return dialog.attach();
      }
    };

    TreeView.prototype.fileManagerCommandForPath = function(pathToOpen, isFile) {
      var args, command;
      switch (process.platform) {
        case 'darwin':
          return {
            command: 'open',
            label: 'Finder',
            args: ['-R', pathToOpen]
          };
        case 'win32':
          args = ["/select,\"" + pathToOpen + "\""];
          if (process.env.SystemRoot) {
            command = path.join(process.env.SystemRoot, 'explorer.exe');
          } else {
            command = 'explorer.exe';
          }
          return {
            command: command,
            label: 'Explorer',
            args: args
          };
        default:
          if (isFile) {
            pathToOpen = path.dirname(pathToOpen);
          }
          return {
            command: 'xdg-open',
            label: 'File Manager',
            args: [pathToOpen]
          };
      }
    };

    TreeView.prototype.openInFileManager = function(command, args, label, isFile) {
      var errorLines, exit, handleError, showProcess, stderr;
      handleError = function(errorMessage) {
        return atom.notifications.addError("Opening " + (isFile ? 'file' : 'folder') + " in " + label + " failed", {
          detail: errorMessage,
          dismissable: true
        });
      };
      errorLines = [];
      stderr = function(lines) {
        return errorLines.push(lines);
      };
      exit = function(code) {
        var errorMessage, failed;
        failed = code !== 0;
        errorMessage = errorLines.join('\n');
        if (process.platform === 'win32' && code === 1 && !errorMessage) {
          failed = false;
        }
        if (failed) {
          return handleError(errorMessage);
        }
      };
      showProcess = new BufferedProcess({
        command: command,
        args: args,
        stderr: stderr,
        exit: exit
      });
      showProcess.onWillThrowError(function(arg) {
        var error, handle;
        error = arg.error, handle = arg.handle;
        handle();
        return handleError(error != null ? error.message : void 0);
      });
      return showProcess;
    };

    TreeView.prototype.showSelectedEntryInFileManager = function() {
      var args, command, entry, isFile, label, ref2;
      if (!(entry = this.selectedEntry())) {
        return;
      }
      isFile = entry.classList.contains('file');
      ref2 = this.fileManagerCommandForPath(entry.getPath(), isFile), command = ref2.command, args = ref2.args, label = ref2.label;
      return this.openInFileManager(command, args, label, isFile);
    };

    TreeView.prototype.showCurrentFileInFileManager = function() {
      var args, command, editor, label, ref2;
      if (!(editor = atom.workspace.getCenter().getActiveTextEditor())) {
        return;
      }
      if (!editor.getPath()) {
        return;
      }
      ref2 = this.fileManagerCommandForPath(editor.getPath(), true), command = ref2.command, args = ref2.args, label = ref2.label;
      return this.openInFileManager(command, args, label, true);
    };

    TreeView.prototype.openSelectedEntryInNewWindow = function() {
      var pathToOpen, ref2;
      if (pathToOpen = (ref2 = this.selectedEntry()) != null ? ref2.getPath() : void 0) {
        return atom.open({
          pathsToOpen: [pathToOpen],
          newWindow: true
        });
      }
    };

    TreeView.prototype.copySelectedEntry = function() {
      var dialog, entry, oldPath;
      if (this.hasFocus()) {
        entry = this.selectedEntry();
        if (indexOf.call(this.roots, entry) >= 0) {
          return;
        }
        oldPath = entry != null ? entry.getPath() : void 0;
      } else {
        oldPath = this.getActivePath();
      }
      if (!oldPath) {
        return;
      }
      dialog = new CopyDialog(oldPath, {
        onCopy: (function(_this) {
          return function(arg) {
            var initialPath, newPath;
            initialPath = arg.initialPath, newPath = arg.newPath;
            return _this.emitter.emit('entry-copied', {
              initialPath: initialPath,
              newPath: newPath
            });
          };
        })(this)
      });
      return dialog.attach();
    };

    TreeView.prototype.removeSelectedEntries = function() {
      var activePath, j, len, ref2, ref3, root, selectedPaths;
      if (this.hasFocus()) {
        selectedPaths = this.selectedPaths();
      } else if (activePath = this.getActivePath()) {
        selectedPaths = [activePath];
      }
      if (!(selectedPaths && selectedPaths.length > 0)) {
        return;
      }
      ref2 = this.roots;
      for (j = 0, len = ref2.length; j < len; j++) {
        root = ref2[j];
        if (ref3 = root.getPath(), indexOf.call(selectedPaths, ref3) >= 0) {
          atom.confirm({
            message: "The root directory '" + root.directory.name + "' can't be removed.",
            buttons: ['OK']
          });
          return;
        }
      }
      return atom.confirm({
        message: "Are you sure you want to delete the selected " + (selectedPaths.length > 1 ? 'items' : 'item') + "?",
        detailedMessage: "You are deleting:\n" + (selectedPaths.join('\n')),
        buttons: {
          "Move to Trash": (function(_this) {
            return function() {
              var failedDeletions, k, len1, repo, selectedPath;
              failedDeletions = [];
              for (k = 0, len1 = selectedPaths.length; k < len1; k++) {
                selectedPath = selectedPaths[k];
                if (shell.moveItemToTrash(selectedPath)) {
                  _this.emitter.emit('entry-deleted', {
                    path: selectedPath
                  });
                } else {
                  failedDeletions.push("" + selectedPath);
                }
                if (repo = repoForPath(selectedPath)) {
                  repo.getPathStatus(selectedPath);
                }
              }
              if (failedDeletions.length > 0) {
                atom.notifications.addError(_this.formatTrashFailureMessage(failedDeletions), {
                  description: _this.formatTrashEnabledMessage(),
                  detail: "" + (failedDeletions.join('\n')),
                  dismissable: true
                });
              }
              if (atom.config.get('tree-view.squashDirectoryNames')) {
                return _this.updateRoots();
              }
            };
          })(this),
          "Cancel": null
        }
      });
    };

    TreeView.prototype.formatTrashFailureMessage = function(failedDeletions) {
      var fileText;
      fileText = failedDeletions.length > 1 ? 'files' : 'file';
      return "The following " + fileText + " couldn't be moved to the trash.";
    };

    TreeView.prototype.formatTrashEnabledMessage = function() {
      switch (process.platform) {
        case 'linux':
          return 'Is `gvfs-trash` installed?';
        case 'darwin':
          return 'Is Trash enabled on the volume where the files are stored?';
        case 'win32':
          return 'Is there a Recycle Bin on the drive where the files are stored?';
      }
    };

    TreeView.prototype.copySelectedEntries = function() {
      var selectedPaths;
      selectedPaths = this.selectedPaths();
      if (!(selectedPaths && selectedPaths.length > 0)) {
        return;
      }
      window.localStorage.removeItem('tree-view:cutPath');
      return window.localStorage['tree-view:copyPath'] = JSON.stringify(selectedPaths);
    };

    TreeView.prototype.cutSelectedEntries = function() {
      var selectedPaths;
      selectedPaths = this.selectedPaths();
      if (!(selectedPaths && selectedPaths.length > 0)) {
        return;
      }
      window.localStorage.removeItem('tree-view:copyPath');
      return window.localStorage['tree-view:cutPath'] = JSON.stringify(selectedPaths);
    };

    TreeView.prototype.pasteEntries = function() {
      var basePath, catchAndShowFileErrors, copiedPaths, cutPaths, extension, fileCounter, filePath, initialPath, initialPathIsDirectory, initialPaths, j, len, newPath, originalNewPath, ref2, results, selectedEntry;
      selectedEntry = this.selectedEntry();
      cutPaths = window.localStorage['tree-view:cutPath'] ? JSON.parse(window.localStorage['tree-view:cutPath']) : null;
      copiedPaths = window.localStorage['tree-view:copyPath'] ? JSON.parse(window.localStorage['tree-view:copyPath']) : null;
      initialPaths = copiedPaths || cutPaths;
      catchAndShowFileErrors = function(operation) {
        var error;
        try {
          return operation();
        } catch (error1) {
          error = error1;
          return atom.notifications.addWarning("Unable to paste paths: " + initialPaths, {
            detail: error.message
          });
        }
      };
      ref2 = initialPaths != null ? initialPaths : [];
      results = [];
      for (j = 0, len = ref2.length; j < len; j++) {
        initialPath = ref2[j];
        initialPathIsDirectory = fs.isDirectorySync(initialPath);
        if (selectedEntry && initialPath && fs.existsSync(initialPath)) {
          basePath = selectedEntry.getPath();
          if (selectedEntry.classList.contains('file')) {
            basePath = path.dirname(basePath);
          }
          newPath = path.join(basePath, path.basename(initialPath));
          if (copiedPaths) {
            fileCounter = 0;
            originalNewPath = newPath;
            while (fs.existsSync(newPath)) {
              if (initialPathIsDirectory) {
                newPath = "" + originalNewPath + fileCounter;
              } else {
                extension = getFullExtension(originalNewPath);
                filePath = path.join(path.dirname(originalNewPath), path.basename(originalNewPath, extension));
                newPath = "" + filePath + fileCounter + extension;
              }
              fileCounter += 1;
            }
            if (fs.isDirectorySync(initialPath)) {
              results.push(catchAndShowFileErrors((function(_this) {
                return function() {
                  fs.copySync(initialPath, newPath);
                  return _this.emitter.emit('entry-copied', {
                    initialPath: initialPath,
                    newPath: newPath
                  });
                };
              })(this)));
            } else {
              results.push(catchAndShowFileErrors((function(_this) {
                return function() {
                  fs.writeFileSync(newPath, fs.readFileSync(initialPath));
                  return _this.emitter.emit('entry-copied', {
                    initialPath: initialPath,
                    newPath: newPath
                  });
                };
              })(this)));
            }
          } else if (cutPaths) {
            if (!(fs.existsSync(newPath) || newPath.startsWith(initialPath))) {
              results.push(catchAndShowFileErrors((function(_this) {
                return function() {
                  fs.moveSync(initialPath, newPath);
                  return _this.emitter.emit('entry-moved', {
                    initialPath: initialPath,
                    newPath: newPath
                  });
                };
              })(this)));
            } else {
              results.push(void 0);
            }
          } else {
            results.push(void 0);
          }
        } else {
          results.push(void 0);
        }
      }
      return results;
    };

    TreeView.prototype.add = function(isCreatingFile) {
      var dialog, ref2, ref3, selectedEntry, selectedPath;
      selectedEntry = (ref2 = this.selectedEntry()) != null ? ref2 : this.roots[0];
      selectedPath = (ref3 = selectedEntry != null ? selectedEntry.getPath() : void 0) != null ? ref3 : '';
      dialog = new AddDialog(selectedPath, isCreatingFile);
      dialog.onDidCreateDirectory((function(_this) {
        return function(createdPath) {
          var ref4;
          if ((ref4 = _this.entryForPath(createdPath)) != null) {
            ref4.reload();
          }
          _this.selectEntryForPath(createdPath);
          if (atom.config.get('tree-view.squashDirectoryNames')) {
            _this.updateRoots();
          }
          return _this.emitter.emit('directory-created', {
            path: createdPath
          });
        };
      })(this));
      dialog.onDidCreateFile((function(_this) {
        return function(createdPath) {
          atom.workspace.open(createdPath);
          if (atom.config.get('tree-view.squashDirectoryNames')) {
            _this.updateRoots();
          }
          return _this.emitter.emit('file-created', {
            path: createdPath
          });
        };
      })(this));
      return dialog.attach();
    };

    TreeView.prototype.removeProjectFolder = function(e) {
      var pathToRemove, ref2, ref3;
      pathToRemove = (ref2 = e.target.closest(".project-root > .header")) != null ? (ref3 = ref2.querySelector(".name")) != null ? ref3.dataset.path : void 0 : void 0;
      if (atom.project.removePath != null) {
        if (pathToRemove != null) {
          return atom.project.removePath(pathToRemove);
        }
      }
    };

    TreeView.prototype.selectedEntry = function() {
      return this.list.querySelector('.selected');
    };

    TreeView.prototype.selectEntry = function(entry) {
      var selectedEntries;
      if (entry == null) {
        return;
      }
      this.selectedPath = entry.getPath();
      selectedEntries = this.getSelectedEntries();
      if (selectedEntries.length > 1 || selectedEntries[0] !== entry) {
        this.deselect(selectedEntries);
        entry.classList.add('selected');
      }
      return entry;
    };

    TreeView.prototype.getSelectedEntries = function() {
      return this.list.querySelectorAll('.selected');
    };

    TreeView.prototype.deselect = function(elementsToDeselect) {
      var j, len, selected;
      if (elementsToDeselect == null) {
        elementsToDeselect = this.getSelectedEntries();
      }
      for (j = 0, len = elementsToDeselect.length; j < len; j++) {
        selected = elementsToDeselect[j];
        selected.classList.remove('selected');
      }
      return void 0;
    };

    TreeView.prototype.scrollTop = function(top) {
      if (top != null) {
        return this.element.scrollTop = top;
      } else {
        return this.element.scrollTop;
      }
    };

    TreeView.prototype.scrollBottom = function(bottom) {
      if (bottom != null) {
        return this.element.scrollTop = bottom - this.element.offsetHeight;
      } else {
        return this.element.scrollTop + this.element.offsetHeight;
      }
    };

    TreeView.prototype.scrollToEntry = function(entry) {
      var element;
      element = (entry != null ? entry.classList.contains('directory') : void 0) ? entry.header : entry;
      return element != null ? element.scrollIntoViewIfNeeded(true) : void 0;
    };

    TreeView.prototype.scrollToBottom = function() {
      var lastEntry;
      if (lastEntry = _.last(this.list.querySelectorAll('.entry'))) {
        this.selectEntry(lastEntry);
        return this.scrollToEntry(lastEntry);
      }
    };

    TreeView.prototype.scrollToTop = function() {
      if (this.roots[0] != null) {
        this.selectEntry(this.roots[0]);
      }
      return this.element.scrollTop = 0;
    };

    TreeView.prototype.pageUp = function() {
      return this.element.scrollTop -= this.element.offsetHeight;
    };

    TreeView.prototype.pageDown = function() {
      return this.element.scrollTop += this.element.offsetHeight;
    };

    TreeView.prototype.moveEntry = function(initialPath, newDirectoryPath) {
      var entryName, error, newPath, repo;
      if (initialPath === newDirectoryPath) {
        return;
      }
      entryName = path.basename(initialPath);
      newPath = (newDirectoryPath + "/" + entryName).replace(/\s+$/, '');
      try {
        if (!fs.existsSync(newDirectoryPath)) {
          fs.makeTreeSync(newDirectoryPath);
        }
        fs.moveSync(initialPath, newPath);
        this.emitter.emit('entry-moved', {
          initialPath: initialPath,
          newPath: newPath
        });
        if (repo = repoForPath(newPath)) {
          repo.getPathStatus(initialPath);
          return repo.getPathStatus(newPath);
        }
      } catch (error1) {
        error = error1;
        return atom.notifications.addWarning("Failed to move entry " + initialPath + " to " + newDirectoryPath, {
          detail: error.message
        });
      }
    };

    TreeView.prototype.onStylesheetsChanged = function() {
      if (!this.isVisible()) {
        return;
      }
      this.element.style.display = 'none';
      this.element.offsetWidth;
      return this.element.style.display = '';
    };

    TreeView.prototype.onMouseDown = function(e) {
      var entryToSelect;
      if (entryToSelect = e.target.closest('.entry')) {
        e.stopPropagation();
        if (this.multiSelectEnabled() && e.target.classList.contains('selected') && (e.button === 2 || e.ctrlKey && process.platform === 'darwin')) {
          return;
        }
        if (e.shiftKey) {
          this.selectContinuousEntries(entryToSelect);
          return this.showMultiSelectMenu();
        } else if (e.metaKey || (e.ctrlKey && process.platform !== 'darwin')) {
          this.selectMultipleEntries(entryToSelect);
          if (this.selectedPaths().length > 1) {
            return this.showMultiSelectMenu();
          }
        } else {
          this.selectEntry(entryToSelect);
          return this.showFullMenu();
        }
      }
    };

    TreeView.prototype.selectedPaths = function() {
      var entry, j, len, ref2, results;
      ref2 = this.getSelectedEntries();
      results = [];
      for (j = 0, len = ref2.length; j < len; j++) {
        entry = ref2[j];
        results.push(entry.getPath());
      }
      return results;
    };

    TreeView.prototype.selectContinuousEntries = function(entry) {
      var currentSelectedEntry, element, elements, entries, entryIndex, i, j, len, parentContainer, selectedIndex;
      currentSelectedEntry = this.selectedEntry();
      parentContainer = entry.parentElement;
      if (parentContainer.contains(currentSelectedEntry)) {
        entries = Array.from(parentContainer.querySelectorAll('.entry'));
        entryIndex = entries.indexOf(entry);
        selectedIndex = entries.indexOf(currentSelectedEntry);
        elements = (function() {
          var j, ref2, ref3, results;
          results = [];
          for (i = j = ref2 = entryIndex, ref3 = selectedIndex; ref2 <= ref3 ? j <= ref3 : j >= ref3; i = ref2 <= ref3 ? ++j : --j) {
            results.push(entries[i]);
          }
          return results;
        })();
        this.deselect();
        for (j = 0, len = elements.length; j < len; j++) {
          element = elements[j];
          element.classList.add('selected');
        }
      }
      return elements;
    };

    TreeView.prototype.selectMultipleEntries = function(entry) {
      if (entry != null) {
        entry.classList.toggle('selected');
      }
      return entry;
    };

    TreeView.prototype.showFullMenu = function() {
      this.list.classList.remove('multi-select');
      return this.list.classList.add('full-menu');
    };

    TreeView.prototype.showMultiSelectMenu = function() {
      this.list.classList.remove('full-menu');
      return this.list.classList.add('multi-select');
    };

    TreeView.prototype.multiSelectEnabled = function() {
      return this.list.classList.contains('multi-select');
    };

    TreeView.prototype.onDragEnter = function(e) {
      var entry, header;
      if (header = e.target.closest('.entry.directory > .header')) {
        if (this.rootDragAndDrop.isDragging(e)) {
          return;
        }
        e.stopPropagation();
        entry = header.parentNode;
        if (!this.dragEventCounts.get(entry)) {
          this.dragEventCounts.set(entry, 0);
        }
        if (this.dragEventCounts.get(entry) === 0) {
          entry.classList.add('selected');
        }
        return this.dragEventCounts.set(entry, this.dragEventCounts.get(entry) + 1);
      }
    };

    TreeView.prototype.onDragLeave = function(e) {
      var entry, header;
      if (header = e.target.closest('.entry.directory > .header')) {
        if (this.rootDragAndDrop.isDragging(e)) {
          return;
        }
        e.stopPropagation();
        entry = header.parentNode;
        this.dragEventCounts.set(entry, this.dragEventCounts.get(entry) - 1);
        if (this.dragEventCounts.get(entry) === 0) {
          return entry.classList.remove('selected');
        }
      }
    };

    TreeView.prototype.onDragStart = function(e) {
      var entry, fileNameElement, initialPath, key, ref2, target, value;
      if (entry = e.target.closest('.entry')) {
        e.stopPropagation();
        if (this.rootDragAndDrop.canDragStart(e)) {
          return this.rootDragAndDrop.onDragStart(e);
        }
        target = entry.querySelector(".name");
        initialPath = target.dataset.path;
        fileNameElement = target.cloneNode(true);
        ref2 = getStyleObject(target);
        for (key in ref2) {
          value = ref2[key];
          fileNameElement.style[key] = value;
        }
        fileNameElement.style.position = 'absolute';
        fileNameElement.style.top = 0;
        fileNameElement.style.left = 0;
        fileNameElement.style.willChange = 'transform';
        document.body.appendChild(fileNameElement);
        e.dataTransfer.effectAllowed = "move";
        e.dataTransfer.setDragImage(fileNameElement, 0, 0);
        e.dataTransfer.setData("initialPath", initialPath);
        return window.requestAnimationFrame(function() {
          return fileNameElement.remove();
        });
      }
    };

    TreeView.prototype.onDragOver = function(e) {
      var entry;
      if (entry = e.target.closest('.entry')) {
        if (this.rootDragAndDrop.isDragging(e)) {
          return;
        }
        e.preventDefault();
        e.stopPropagation();
        if (this.dragEventCounts.get(entry) > 0 && !entry.classList.contains('selected')) {
          return entry.classList.add('selected');
        }
      }
    };

    TreeView.prototype.onDrop = function(e) {
      var entry, file, initialPath, j, len, newDirectoryPath, ref2, ref3, results;
      if (entry = e.target.closest('.entry')) {
        if (this.rootDragAndDrop.isDragging(e)) {
          return;
        }
        e.preventDefault();
        e.stopPropagation();
        entry.classList.remove('selected');
        if (!entry.classList.contains('directory')) {
          return;
        }
        newDirectoryPath = (ref2 = entry.querySelector('.name')) != null ? ref2.dataset.path : void 0;
        if (!newDirectoryPath) {
          return false;
        }
        initialPath = e.dataTransfer.getData("initialPath");
        if (initialPath) {
          return this.moveEntry(initialPath, newDirectoryPath);
        } else {
          ref3 = e.dataTransfer.files;
          results = [];
          for (j = 0, len = ref3.length; j < len; j++) {
            file = ref3[j];
            results.push(this.moveEntry(file.path, newDirectoryPath));
          }
          return results;
        }
      }
    };

    TreeView.prototype.isVisible = function() {
      return this.element.offsetWidth !== 0 || this.element.offsetHeight !== 0;
    };

    return TreeView;

  })();

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZmlsZTovLy9DOi9wcm9qZWN0cy9hdG9tL291dC9hcHAvbm9kZV9tb2R1bGVzL3RyZWUtdmlldy9saWIvdHJlZS12aWV3LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUEseVJBQUE7SUFBQTs7OztFQUFBLElBQUEsR0FBTyxPQUFBLENBQVEsTUFBUjs7RUFDTixRQUFTLE9BQUEsQ0FBUSxVQUFSOztFQUVWLENBQUEsR0FBSSxPQUFBLENBQVEsaUJBQVI7O0VBQ0osTUFBa0QsT0FBQSxDQUFRLE1BQVIsQ0FBbEQsRUFBQyxxQ0FBRCxFQUFrQiw2Q0FBbEIsRUFBdUM7O0VBQ3ZDLE9BQXdFLE9BQUEsQ0FBUSxXQUFSLENBQXhFLEVBQUMsOEJBQUQsRUFBYyxvQ0FBZCxFQUE4Qix3Q0FBOUIsRUFBZ0Q7O0VBQ2hELEVBQUEsR0FBSyxPQUFBLENBQVEsU0FBUjs7RUFFTCxTQUFBLEdBQVksT0FBQSxDQUFRLGNBQVI7O0VBQ1osVUFBQSxHQUFhLE9BQUEsQ0FBUSxlQUFSOztFQUNiLFVBQUEsR0FBYSxPQUFBLENBQVEsZUFBUjs7RUFDYixTQUFBLEdBQVk7O0VBRVosU0FBQSxHQUFZLE9BQUEsQ0FBUSxhQUFSOztFQUNaLGFBQUEsR0FBZ0IsT0FBQSxDQUFRLGtCQUFSOztFQUNoQixlQUFBLEdBQWtCLE9BQUEsQ0FBUSxzQkFBUjs7RUFFbEIsYUFBQSxHQUFnQjs7RUFFaEIsWUFBQSxHQUFlLFNBQUMsT0FBRDtXQUNiLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBWixDQUFnQixPQUFoQixFQUF5QixDQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBWixDQUFnQixPQUFoQixDQUE3QjtFQURhOztFQUdmLE1BQUEsR0FBUzs7RUFFVCxNQUFNLENBQUMsT0FBUCxHQUNNO0lBQ1Msa0JBQUMsS0FBRDs7OztBQUNYLFVBQUE7TUFBQSxJQUFDLENBQUEsRUFBRCxHQUFNLE1BQUE7TUFDTixJ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S0FBSyxDQUFDLFNBQVMsQ0FBQyxRQUFoQixDQUF5QixXQUF6QixDQUFkO0FBQUEsaUJBQUE7O1FBRUEsZ0JBQUEsdURBQStDLENBQUUsT0FBTyxDQUFDO1FBQ3pELElBQUEsQ0FBb0IsZ0JBQXBCO0FBQUEsaUJBQU8sTUFBUDs7UUFFQSxXQUFBLEdBQWMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxPQUFmLENBQXVCLGFBQXZCO1FBRWQsSUFBRyxXQUFIO2lCQUVFLElBQUMsQ0FBQSxTQUFELENBQVcsV0FBWCxFQUF3QixnQkFBeEIsRUFGRjtTQUFBLE1BQUE7QUFLRTtBQUFBO2VBQUEsc0NBQUE7O3lCQUNFLElBQUMsQ0FBQSxTQUFELENBQVcsSUFBSSxDQUFDLElBQWhCLEVBQXNCLGdCQUF0QjtBQURGO3lCQUxGO1NBZkY7O0lBRE07O3VCQXdCUixTQUFBLEdBQVcsU0FBQTthQUNULElBQUMsQ0FBQSxPQUFPLENBQUMsV0FBVCxLQUEwQixDQUExQixJQUErQixJQUFDLENBQUEsT0FBTyxDQUFDLFlBQVQsS0FBMkI7SUFEakQ7Ozs7O0FBbjhCYiIsInNvdXJjZXNDb250ZW50IjpbInBhdGggPSByZXF1aXJlICdwYXRoJ1xue3NoZWxsfSA9IHJlcXVpcmUgJ2VsZWN0cm9uJ1xuXG5fID0gcmVxdWlyZSAndW5kZXJzY29yZS1wbHVzJ1xue0J1ZmZlcmVkUHJvY2VzcywgQ29tcG9zaXRlRGlzcG9zYWJsZSwgRW1pdHRlcn0gPSByZXF1aXJlICdhdG9tJ1xue3JlcG9Gb3JQYXRoLCBnZXRTdHlsZU9iamVjdCwgZ2V0RnVsbEV4dGVuc2lvbiwgdXBkYXRlRWRpdG9yc0ZvclBhdGh9ID0gcmVxdWlyZSBcIi4vaGVscGVyc1wiXG5mcyA9IHJlcXVpcmUgJ2ZzLXBsdXMnXG5cbkFkZERpYWxvZyA9IHJlcXVpcmUgJy4vYWRkLWRpYWxvZydcbk1vdmVEaWFsb2cgPSByZXF1aXJlICcuL21vdmUtZGlhbG9nJ1xuQ29weURpYWxvZyA9IHJlcXVpcmUgJy4vY29weS1kaWFsb2cnXG5NaW5pbWF0Y2ggPSBudWxsICAjIERlZmVyIHJlcXVpcmluZyB1bnRpbCBhY3R1YWxseSBuZWVkZWRcblxuRGlyZWN0b3J5ID0gcmVxdWlyZSAnLi9kaXJlY3RvcnknXG5EaXJlY3RvcnlWaWV3ID0gcmVxdWlyZSAnLi9kaXJlY3RvcnktdmlldydcblJvb3REcmFnQW5kRHJvcCA9IHJlcXVpcmUgJy4vcm9vdC1kcmFnLWFuZC1kcm9wJ1xuXG5UUkVFX1ZJRVdfVVJJID0gJ2F0b206Ly90cmVlLXZpZXcnXG5cbnRvZ2dsZUNvbmZpZyA9IChrZXlQYXRoKSAtPlxuICBhdG9tLmNvbmZpZy5zZXQoa2V5UGF0aCwgbm90IGF0b20uY29uZmlnLmdldChrZXlQYXRoKSlcblxubmV4dElkID0gMVxuXG5tb2R1bGUuZXhwb3J0cyA9XG5jbGFzcyBUcmVlVmlld1xuICBjb25zdHJ1Y3RvcjogKHN0YXRlKSAtPlxuICAgIEBpZCA9IG5leHRJZCsrXG4gICAgQGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIEBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Rvb2wtcGFuZWwnLCAndHJlZS12aWV3JylcbiAgICBAZWxlbWVudC50YWJJbmRleCA9IC0xXG5cbiAgICBAbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29sJylcbiAgICBAbGlzdC5jbGFzc0xpc3QuYWRkKCdmdWxsLW1lbnUnLCAnbGlzdC10cmVlJywgJ2hhcy1jb2xsYXBzYWJsZS1jaGlsZHJlbicsICdmb2N1c2FibGUtcGFuZWwnKVxuICAgIEBlbGVtZW50LmFwcGVuZENoaWxkKEBsaXN0KVxuXG4gICAgQGRpc3Bvc2FibGVzID0gbmV3IENvbXBvc2l0ZURpc3Bvc2FibGVcbiAgICBAZW1pdHRlciA9IG5ldyBFbWl0dGVyXG4gICAgQHJvb3RzID0gW11cbiAgICBAc2VsZWN0ZWRQYXRoID0gbnVsbFxuICAgIEBpZ25vcmVkUGF0dGVybnMgPSBbXVxuICAgIEB1c2VTeW5jRlMgPSBmYWxzZVxuICAgIEBjdXJyZW50bHlPcGVuaW5nID0gbmV3IE1hcFxuXG4gICAgQGRyYWdFdmVudENvdW50cyA9IG5ldyBXZWFrTWFwXG4gICAgQHJvb3REcmFnQW5kRHJvcCA9IG5ldyBSb290RHJhZ0FuZERyb3AodGhpcylcblxuICAgIEBoYW5kbGVFdmVudHMoKVxuXG4gICAgcHJvY2Vzcy5uZXh0VGljayA9PlxuICAgICAgQG9uU3R5bGVzaGVldHNDaGFuZ2VkKClcbiAgICAgIG9uU3R5bGVzaGVldHNDaGFuZ2VkID0gXy5kZWJvdW5jZShAb25TdHlsZXNoZWV0c0NoYW5nZWQsIDEwMClcbiAgICAgIEBkaXNwb3NhYmxlcy5hZGQgYXRvbS5zdHlsZXMub25EaWRBZGRTdHlsZUVsZW1lbnQob25TdHlsZXNoZWV0c0NoYW5nZWQpXG4gICAgICBAZGlzcG9zYWJsZXMuYWRkIGF0b20uc3R5bGVzLm9uRGlkUmVtb3ZlU3R5bGVFbGVtZW50KG9uU3R5bGVzaGVldHNDaGFuZ2VkKVxuICAgICAgQGRpc3Bvc2FibGVzLmFkZCBhdG9tLnN0eWxlcy5vbkRpZFVwZGF0ZVN0eWxlRWxlbWVudChvblN0eWxlc2hlZXRzQ2hhbmdlZClcblxuICAgIEB1cGRhdGVSb290cyhzdGF0ZS5kaXJlY3RvcnlFeHBhbnNpb25TdGF0ZXMpXG4gICAgQHNlbGVjdEVudHJ5KEByb290c1swXSlcblxuICAgIEBzZWxlY3RFbnRyeUZvclBhdGgoc3RhdGUuc2VsZWN0ZWRQYXRoKSBpZiBzdGF0ZS5zZWxlY3RlZFBhdGhcblxuICAgIGlmIHN0YXRlLnNjcm9sbFRvcD8gb3Igc3RhdGUuc2Nyb2xsTGVmdD9cbiAgICAgIG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKD0+XG4gICAgICAgIGlmIEBpc1Zpc2libGUoKVxuICAgICAgICAgIEBlbGVtZW50LnNjcm9sbFRvcCA9IHN0YXRlLnNjcm9sbFRvcFxuICAgICAgICAgIEBlbGVtZW50LnNjcm9sbExlZnQgPSBzdGF0ZS5zY3JvbGxMZWZ0XG4gICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgICApXG4gICAgICBvYnNlcnZlci5vYnNlcnZlKEBlbGVtZW50KVxuXG4gICAgQGVsZW1lbnQuc3R5bGUud2lkdGggPSBcIiN7c3RhdGUud2lkdGh9cHhcIiBpZiBzdGF0ZS53aWR0aCA+IDBcblxuICAgIEBkaXNwb3NhYmxlcy5hZGQgQG9uRW50cnlNb3ZlZCAoe2luaXRpYWxQYXRoLCBuZXdQYXRofSkgLT5cbiAgICAgIHVwZGF0ZUVkaXRvcnNGb3JQYXRoKGluaXRpYWxQYXRoLCBuZXdQYXRoKVxuXG4gICAgQGRpc3Bvc2FibGVzLmFkZCBAb25FbnRyeURlbGV0ZWQgKHtwYXRofSkgLT5cbiAgICAgIGZvciBlZGl0b3IgaW4gYXRvbS53b3Jrc3BhY2UuZ2V0VGV4dEVkaXRvcnMoKVxuICAgICAgICBpZiBlZGl0b3I/LmdldFBhdGgoKT8uc3RhcnRzV2l0aChwYXRoKVxuICAgICAgICAgIGVkaXRvci5kZXN0cm95KClcblxuICBzZXJpYWxpemU6IC0+XG4gICAgZGlyZWN0b3J5RXhwYW5zaW9uU3RhdGVzOiBuZXcgKChyb290cykgLT5cbiAgICAgIEBbcm9vdC5kaXJlY3RvcnkucGF0aF0gPSByb290LmRpcmVjdG9yeS5zZXJpYWxpemVFeHBhbnNpb25TdGF0ZSgpIGZvciByb290IGluIHJvb3RzXG4gICAgICB0aGlzKShAcm9vdHMpXG4gICAgZGVzZXJpYWxpemVyOiAnVHJlZVZpZXcnXG4gICAgc2VsZWN0ZWRQYXRoOiBAc2VsZWN0ZWRFbnRyeSgpPy5nZXRQYXRoKClcbiAgICBzY3JvbGxMZWZ0OiBAZWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgc2Nyb2xsVG9wOiBAZWxlbWVudC5zY3JvbGxUb3BcbiAgICB3aWR0aDogcGFyc2VJbnQoQGVsZW1lbnQuc3R5bGUud2lkdGggb3IgMClcblxuICBkZXN0cm95OiAtPlxuICAgIHJvb3QuZGlyZWN0b3J5LmRlc3Ryb3koKSBmb3Igcm9vdCBpbiBAcm9vdHNcbiAgICBAZGlzcG9zYWJsZXMuZGlzcG9zZSgpXG4gICAgQHJvb3REcmFnQW5kRHJvcC5kaXNwb3NlKClcbiAgICBAZW1pdHRlci5lbWl0KCdkaWQtZGVzdHJveScpXG5cbiAgb25EaWREZXN0cm95OiAoY2FsbGJhY2spIC0+XG4gICAgQGVtaXR0ZXIub24oJ2RpZC1kZXN0cm95JywgY2FsbGJhY2spXG5cbiAgZ2V0VGl0bGU6IC0+IFwiUHJvamVjdFwiXG5cbiAgZ2V0VVJJOiAtPiBUUkVFX1ZJRVdfVVJJXG5cbiAgZ2V0UHJlZmVycmVkTG9jYXRpb246IC0+XG4gICAgaWYgYXRvbS5jb25maWcuZ2V0KCd0cmVlLXZpZXcuc2hvd09uUmlnaHRTaWRlJylcbiAgICAgICdyaWdodCdcbiAgICBlbHNlXG4gICAgICAnbGVmdCdcblxuICBnZXRBbGxvd2VkTG9jYXRpb25zOiAtPiBbXCJsZWZ0XCIsIFwicmlnaHRcIl1cblxuICBpc1Blcm1hbmVudERvY2tJdGVtOiAtPiB0cnVlXG5cbiAgZ2V0UHJlZmVycmVkV2lkdGg6IC0+XG4gICAgQGxpc3Quc3R5bGUud2lkdGggPSAnbWluLWNvbnRlbnQnXG4gICAgcmVzdWx0ID0gQGxpc3Qub2Zmc2V0V2lkdGhcbiAgICBAbGlzdC5zdHlsZS53aWR0aCA9ICcnXG4gICAgcmVzdWx0XG5cbiAgb25EaXJlY3RvcnlDcmVhdGVkOiAoY2FsbGJhY2spIC0+XG4gICAgQGVtaXR0ZXIub24oJ2RpcmVjdG9yeS1jcmVhdGVkJywgY2FsbGJhY2spXG5cbiAgb25FbnRyeUNvcGllZDogKGNhbGxiYWNrKSAtPlxuICAgIEBlbWl0dGVyLm9uKCdlbnRyeS1jb3BpZWQnLCBjYWxsYmFjaylcblxuICBvbkVudHJ5RGVsZXRlZDogKGNhbGxiYWNrKSAtPlxuICAgIEBlbWl0dGVyLm9uKCdlbnRyeS1kZWxldGVkJywgY2FsbGJhY2spXG5cbiAgb25FbnRyeU1vdmVkOiAoY2FsbGJhY2spIC0+XG4gICAgQGVtaXR0ZXIub24oJ2VudHJ5LW1vdmVkJywgY2FsbGJhY2spXG5cbiAgb25GaWxlQ3JlYXRlZDogKGNhbGxiYWNrKSAtPlxuICAgIEBlbWl0dGVyLm9uKCdmaWxlLWNyZWF0ZWQnLCBjYWxsYmFjaylcblxuICBoYW5kbGVFdmVudHM6IC0+XG4gICAgQGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciAnY2xpY2snLCAoZSkgPT5cbiAgICAgICMgVGhpcyBwcmV2ZW50cyBhY2NpZGVudGFsIGNvbGxhcHNpbmcgd2hlbiBhIC5lbnRyaWVzIGVsZW1lbnQgaXMgdGhlIGV2ZW50IHRhcmdldFxuICAgICAgcmV0dXJuIGlmIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZW50cmllcycpXG5cbiAgICAgIEBlbnRyeUNsaWNrZWQoZSkgdW5sZXNzIGUuc2hpZnRLZXkgb3IgZS5tZXRhS2V5IG9yIGUuY3RybEtleVxuICAgIEBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIgJ21vdXNlZG93bicsIChlKSA9PiBAb25Nb3VzZURvd24oZSlcbiAgICBAZWxlbWVudC5hZGRFdmVudExpc3RlbmVyICdkcmFnc3RhcnQnLCAoZSkgPT4gQG9uRHJhZ1N0YXJ0KGUpXG4gICAgQGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciAnZHJhZ2VudGVyJywgKGUpID0+IEBvbkRyYWdFbnRlcihlKVxuICAgIEBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIgJ2RyYWdsZWF2ZScsIChlKSA9PiBAb25EcmFnTGVhdmUoZSlcbiAgICBAZWxlbWVudC5hZGRFdmVudExpc3RlbmVyICdkcmFnb3ZlcicsIChlKSA9PiBAb25EcmFnT3ZlcihlKVxuICAgIEBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIgJ2Ryb3AnLCAoZSkgPT4gQG9uRHJvcChlKVxuXG4gICAgYXRvbS5jb21tYW5kcy5hZGQgQGVsZW1lbnQsXG4gICAgICdjb3JlOm1vdmUtdXAnOiBAbW92ZVVwLmJpbmQodGhpcylcbiAgICAgJ2NvcmU6bW92ZS1kb3duJzogQG1vdmVEb3duLmJpbmQodGhpcylcbiAgICAgJ2NvcmU6cGFnZS11cCc6ID0+IEBwYWdlVXAoKVxuICAgICAnY29yZTpwYWdlLWRvd24nOiA9PiBAcGFnZURvd24oKVxuICAgICAnY29yZTptb3ZlLXRvLXRvcCc6ID0+IEBzY3JvbGxUb1RvcCgpXG4gICAgICdjb3JlOm1vdmUtdG8tYm90dG9tJzogPT4gQHNjcm9sbFRvQm90dG9tKClcbiAgICAgJ3RyZWUtdmlldzpleHBhbmQtaXRlbSc6ID0+IEBvcGVuU2VsZWN0ZWRFbnRyeShwZW5kaW5nOiB0cnVlLCB0cnVlKVxuICAgICAndHJlZS12aWV3OnJlY3Vyc2l2ZS1leHBhbmQtZGlyZWN0b3J5JzogPT4gQGV4cGFuZERpcmVjdG9yeSh0cnVlKVxuICAgICAndHJlZS12aWV3OmNvbGxhcHNlLWRpcmVjdG9yeSc6ID0+IEBjb2xsYXBzZURpcmVjdG9yeSgpXG4gICAgICd0cmVlLXZpZXc6cmVjdXJzaXZlLWNvbGxhcHNlLWRpcmVjdG9yeSc6ID0+IEBjb2xsYXBzZURpcmVjdG9yeSh0cnVlKVxuICAgICAndHJlZS12aWV3Om9wZW4tc2VsZWN0ZWQtZW50cnknOiA9PiBAb3BlblNlbGVjdGVkRW50cnkoKVxuICAgICAndHJlZS12aWV3Om9wZW4tc2VsZWN0ZWQtZW50cnktcmlnaHQnOiA9PiBAb3BlblNlbGVjdGVkRW50cnlSaWdodCgpXG4gICAgICd0cmVlLXZpZXc6b3Blbi1zZWxlY3RlZC1lbnRyeS1sZWZ0JzogPT4gQG9wZW5TZWxlY3RlZEVudHJ5TGVmdCgpXG4gICAgICd0cmVlLXZpZXc6b3Blbi1zZWxlY3RlZC1lbnRyeS11cCc6ID0+IEBvcGVuU2VsZWN0ZWRFbnRyeVVwKClcbiAgICAgJ3RyZWUtdmlldzpvcGVuLXNlbGVjdGVkLWVudHJ5LWRvd24nOiA9PiBAb3BlblNlbGVjdGVkRW50cnlEb3duKClcbiAgICAgJ3RyZWUtdmlldzptb3ZlJzogPT4gQG1vdmVTZWxlY3RlZEVudHJ5KClcbiAgICAgJ3RyZWUtdmlldzpjb3B5JzogPT4gQGNvcHlTZWxlY3RlZEVudHJpZXMoKVxuICAgICAndHJlZS12aWV3OmN1dCc6ID0+IEBjdXRTZWxlY3RlZEVudHJpZXMoKVxuICAgICAndHJlZS12aWV3OnBhc3RlJzogPT4gQHBhc3RlRW50cmllcygpXG4gICAgICd0cmVlLXZpZXc6Y29weS1mdWxsLXBhdGgnOiA9PiBAY29weVNlbGVjdGVkRW50cnlQYXRoKGZhbHNlKVxuICAgICAndHJlZS12aWV3OnNob3ctaW4tZmlsZS1tYW5hZ2VyJzogPT4gQHNob3dTZWxlY3RlZEVudHJ5SW5GaWxlTWFuYWdlcigpXG4gICAgICd0cmVlLXZpZXc6b3Blbi1pbi1uZXctd2luZG93JzogPT4gQG9wZW5TZWxlY3RlZEVudHJ5SW5OZXdXaW5kb3coKVxuICAgICAndHJlZS12aWV3OmNvcHktcHJvamVjdC1wYXRoJzogPT4gQGNvcHlTZWxlY3RlZEVudHJ5UGF0aCh0cnVlKVxuICAgICAndG9vbC1wYW5lbDp1bmZvY3VzJzogPT4gQHVuZm9jdXMoKVxuICAgICAndHJlZS12aWV3OnRvZ2dsZS12Y3MtaWdub3JlZC1maWxlcyc6IC0+IHRvZ2dsZUNvbmZpZyAndHJlZS12aWV3LmhpZGVWY3NJZ25vcmVkRmlsZXMnXG4gICAgICd0cmVlLXZpZXc6dG9nZ2xlLWlnbm9yZWQtbmFtZXMnOiAtPiB0b2dnbGVDb25maWcgJ3RyZWUtdmlldy5oaWRlSWdub3JlZE5hbWVzJ1xuICAgICAndHJlZS12aWV3OnJlbW92ZS1wcm9qZWN0LWZvbGRlcic6IChlKSA9PiBAcmVtb3ZlUHJvamVjdEZvbGRlcihlKVxuXG4gICAgWzAuLjhdLmZvckVhY2ggKGluZGV4KSA9PlxuICAgICAgYXRvbS5jb21tYW5kcy5hZGQgQGVsZW1lbnQsIFwidHJlZS12aWV3Om9wZW4tc2VsZWN0ZWQtZW50cnktaW4tcGFuZS0je2luZGV4ICsgMX1cIiwgPT5cbiAgICAgICAgQG9wZW5TZWxlY3RlZEVudHJ5SW5QYW5lIGluZGV4XG5cbiAgICBAZGlzcG9zYWJsZXMuYWRkIGF0b20ud29ya3NwYWNlLmdldENlbnRlcigpLm9uRGlkQ2hhbmdlQWN0aXZlUGFuZUl0ZW0gPT5cbiAgICAgIEBzZWxlY3RBY3RpdmVGaWxlKClcbiAgICAgIEByZXZlYWxBY3RpdmVGaWxlKGZhbHNlKSBpZiBhdG9tLmNvbmZpZy5nZXQoJ3RyZWUtdmlldy5hdXRvUmV2ZWFsJylcbiAgICBAZGlzcG9zYWJsZXMuYWRkIGF0b20ucHJvamVjdC5vbkRpZENoYW5nZVBhdGhzID0+XG4gICAgICBAdXBkYXRlUm9vdHMoKVxuICAgIEBkaXNwb3NhYmxlcy5hZGQgYXRvbS5jb25maWcub25EaWRDaGFuZ2UgJ3RyZWUtdmlldy5oaWRlVmNzSWdub3JlZEZpbGVzJywgPT5cbiAgICAgIEB1cGRhdGVSb290cygpXG4gICAgQGRpc3Bvc2FibGVzLmFkZCBhdG9tLmNvbmZpZy5vbkRpZENoYW5nZSAndHJlZS12aWV3LmhpZGVJZ25vcmVkTmFtZXMnLCA9PlxuICAgICAgQHVwZGF0ZVJvb3RzKClcbiAgICBAZGlzcG9zYWJsZXMuYWRkIGF0b20uY29uZmlnLm9uRGlkQ2hhbmdlICdjb3JlLmlnbm9yZWROYW1lcycsID0+XG4gICAgICBAdXBkYXRlUm9vdHMoKSBpZiBhdG9tLmNvbmZpZy5nZXQoJ3RyZWUtdmlldy5oaWRlSWdub3JlZE5hbWVzJylcbiAgICBAZGlzcG9zYWJsZXMuYWRkIGF0b20uY29uZmlnLm9uRGlkQ2hhbmdlICd0cmVlLXZpZXcuc29ydEZvbGRlcnNCZWZvcmVGaWxlcycsID0+XG4gICAgICBAdXBkYXRlUm9vdHMoKVxuICAgIEBkaXNwb3NhYmxlcy5hZGQgYXRvbS5jb25maWcub25EaWRDaGFuZ2UgJ3RyZWUtdmlldy5zcXVhc2hEaXJlY3RvcnlOYW1lcycsID0+XG4gICAgICBAdXBkYXRlUm9vdHMoKVxuXG4gIHRvZ2dsZTogLT5cbiAgICBhdG9tLndvcmtzcGFjZS50b2dnbGUodGhpcylcblxuICBzaG93OiAoZm9jdXMpIC0+XG4gICAgYXRvbS53b3Jrc3BhY2Uub3Blbih0aGlzLCB7XG4gICAgICBzZWFyY2hBbGxQYW5lczogdHJ1ZSxcbiAgICAgIGFjdGl2YXRlUGFuZTogZmFsc2UsXG4gICAgICBhY3RpdmF0ZUl0ZW06IGZhbHNlLFxuICAgIH0pLnRoZW4gPT5cbiAgICAgIGF0b20ud29ya3NwYWNlLnBhbmVDb250YWluZXJGb3JVUkkoQGdldFVSSSgpKS5zaG93KClcbiAgICAgIEBmb2N1cygpIGlmIGZvY3VzXG5cbiAgaGlkZTogLT5cbiAgICBhdG9tLndvcmtzcGFjZS5oaWRlKHRoaXMpXG5cbiAgZm9jdXM6IC0+XG4gICAgQGVsZW1lbnQuZm9jdXMoKVxuXG4gIHVuZm9jdXM6IC0+XG4gICAgYXRvbS53b3Jrc3BhY2UuZ2V0Q2VudGVyKCkuYWN0aXZhdGUoKVxuXG4gIGhhc0ZvY3VzOiAtPlxuICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaXMgQGVsZW1lbnRcblxuICB0b2dnbGVGb2N1czogLT5cbiAgICBpZiBAaGFzRm9jdXMoKVxuICAgICAgQHVuZm9jdXMoKVxuICAgIGVsc2VcbiAgICAgIEBzaG93KHRydWUpXG5cbiAgZW50cnlDbGlja2VkOiAoZSkgLT5cbiAgICBpZiBlbnRyeSA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5lbnRyeScpXG4gICAgICBpc1JlY3Vyc2l2ZSA9IGUuYWx0S2V5IG9yIGZhbHNlXG4gICAgICBAc2VsZWN0RW50cnkoZW50cnkpXG4gICAgICBpZiBlbnRyeS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpcmVjdG9yeScpXG4gICAgICAgIGVudHJ5LnRvZ2dsZUV4cGFuc2lvbihpc1JlY3Vyc2l2ZSlcbiAgICAgIGVsc2UgaWYgZW50cnkuY2xhc3NMaXN0LmNvbnRhaW5zKCdmaWxlJylcbiAgICAgICAgQGZpbGVWaWV3RW50cnlDbGlja2VkKGUpXG5cbiAgZmlsZVZpZXdFbnRyeUNsaWNrZWQ6IChlKSAtPlxuICAgIGZpbGVQYXRoID0gZS50YXJnZXQuY2xvc2VzdCgnLmVudHJ5JykuZ2V0UGF0aCgpXG4gICAgZGV0YWlsID0gZS5kZXRhaWwgPyAxXG4gICAgYWx3YXlzT3BlbkV4aXN0aW5nID0gYXRvbS5jb25maWcuZ2V0KCd0cmVlLXZpZXcuYWx3YXlzT3BlbkV4aXN0aW5nJylcbiAgICBpZiBkZXRhaWwgaXMgMVxuICAgICAgaWYgYXRvbS5jb25maWcuZ2V0KCdjb3JlLmFsbG93UGVuZGluZ1BhbmVJdGVtcycpXG4gICAgICAgIG9wZW5Qcm9taXNlID0gYXRvbS53b3Jrc3BhY2Uub3BlbihmaWxlUGF0aCwgcGVuZGluZzogdHJ1ZSwgYWN0aXZhdGVQYW5lOiBmYWxzZSwgc2VhcmNoQWxsUGFuZXM6IGFsd2F5c09wZW5FeGlzdGluZylcbiAgICAgICAgQGN1cnJlbnRseU9wZW5pbmcuc2V0KGZpbGVQYXRoLCBvcGVuUHJvbWlzZSlcbiAgICAgICAgb3BlblByb21pc2UudGhlbiA9PiBAY3VycmVudGx5T3BlbmluZy5kZWxldGUoZmlsZVBhdGgpXG4gICAgZWxzZSBpZiBkZXRhaWwgaXMgMlxuICAgICAgQG9wZW5BZnRlclByb21pc2UoZmlsZVBhdGgsIHNlYXJjaEFsbFBhbmVzOiBhbHdheXNPcGVuRXhpc3RpbmcpXG5cbiAgb3BlbkFmdGVyUHJvbWlzZTogKHVyaSwgb3B0aW9ucykgLT5cbiAgICBpZiBwcm9taXNlID0gQGN1cnJlbnRseU9wZW5pbmcuZ2V0KHVyaSlcbiAgICAgIHByb21pc2UudGhlbiAtPiBhdG9tLndvcmtzcGFjZS5vcGVuKHVyaSwgb3B0aW9ucylcbiAgICBlbHNlXG4gICAgICBhdG9tLndvcmtzcGFjZS5vcGVuKHVyaSwgb3B0aW9ucylcblxuICBsb2FkSWdub3JlZFBhdHRlcm5zOiAtPlxuICAgIEBpZ25vcmVkUGF0dGVybnMubGVuZ3RoID0gMFxuICAgIHJldHVybiB1bmxlc3MgYXRvbS5jb25maWcuZ2V0KCd0cmVlLXZpZXcuaGlkZUlnbm9yZWROYW1lcycpXG5cbiAgICBNaW5pbWF0Y2ggPz0gcmVxdWlyZSgnbWluaW1hdGNoJykuTWluaW1hdGNoXG5cbiAgICBpZ25vcmVkTmFtZXMgPSBhdG9tLmNvbmZpZy5nZXQoJ2NvcmUuaWdub3JlZE5hbWVzJykgPyBbXVxuICAgIGlnbm9yZWROYW1lcyA9IFtpZ25vcmVkTmFtZXNdIGlmIHR5cGVvZiBpZ25vcmVkTmFtZXMgaXMgJ3N0cmluZydcbiAgICBmb3IgaWdub3JlZE5hbWUgaW4gaWdub3JlZE5hbWVzIHdoZW4gaWdub3JlZE5hbWVcbiAgICAgIHRyeVxuICAgICAgICBAaWdub3JlZFBhdHRlcm5zLnB1c2gobmV3IE1pbmltYXRjaChpZ25vcmVkTmFtZSwgbWF0Y2hCYXNlOiB0cnVlLCBkb3Q6IHRydWUpKVxuICAgICAgY2F0Y2ggZXJyb3JcbiAgICAgICAgYXRvbS5ub3RpZmljYXRpb25zLmFkZFdhcm5pbmcoXCJFcnJvciBwYXJzaW5nIGlnbm9yZSBwYXR0ZXJuICgje2lnbm9yZWROYW1lfSlcIiwgZGV0YWlsOiBlcnJvci5tZXNzYWdlKVxuXG4gIHVwZGF0ZVJvb3RzOiAoZXhwYW5zaW9uU3RhdGVzPXt9KSAtPlxuICAgIG9sZEV4cGFuc2lvblN0YXRlcyA9IHt9XG4gICAgZm9yIHJvb3QgaW4gQHJvb3RzXG4gICAgICBvbGRFeHBhbnNpb25TdGF0ZXNbcm9vdC5kaXJlY3RvcnkucGF0aF0gPSByb290LmRpcmVjdG9yeS5zZXJpYWxpemVFeHBhbnNpb25TdGF0ZSgpXG4gICAgICByb290LmRpcmVjdG9yeS5kZXN0cm95KClcbiAgICAgIHJvb3QucmVtb3ZlKClcblxuICAgIEBsb2FkSWdub3JlZFBhdHRlcm5zKClcblxuICAgIEByb290cyA9IGZvciBwcm9qZWN0UGF0aCBpbiBhdG9tLnByb2plY3QuZ2V0UGF0aHMoKVxuICAgICAgc3RhdHMgPSBmcy5sc3RhdFN5bmNOb0V4Y2VwdGlvbihwcm9qZWN0UGF0aClcbiAgICAgIGNvbnRpbnVlIHVubGVzcyBzdGF0c1xuICAgICAgc3RhdHMgPSBfLnBpY2sgc3RhdHMsIF8ua2V5cyhzdGF0cykuLi5cbiAgICAgIGZvciBrZXkgaW4gW1wiYXRpbWVcIiwgXCJiaXJ0aHRpbWVcIiwgXCJjdGltZVwiLCBcIm10aW1lXCJdXG4gICAgICAgIHN0YXRzW2tleV0gPSBzdGF0c1trZXldLmdldFRpbWUoKVxuXG4gICAgICBkaXJlY3RvcnkgPSBuZXcgRGlyZWN0b3J5KHtcbiAgICAgICAgbmFtZTogcGF0aC5iYXNlbmFtZShwcm9qZWN0UGF0aClcbiAgICAgICAgZnVsbFBhdGg6IHByb2plY3RQYXRoXG4gICAgICAgIHN5bWxpbms6IGZhbHNlXG4gICAgICAgIGlzUm9vdDogdHJ1ZVxuICAgICAgICBleHBhbnNpb25TdGF0ZTogZXhwYW5zaW9uU3RhdGVzW3Byb2plY3RQYXRoXSA/XG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRFeHBhbnNpb25TdGF0ZXNbcHJvamVjdFBhdGhdID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpc0V4cGFuZGVkOiB0cnVlfVxuICAgICAgICBAaWdub3JlZFBhdHRlcm5zXG4gICAgICAgIEB1c2VTeW5jRlNcbiAgICAgICAgc3RhdHNcbiAgICAgIH0pXG4gICAgICByb290ID0gbmV3IERpcmVjdG9yeVZpZXcoZGlyZWN0b3J5KS5lbGVtZW50XG4gICAgICBAbGlzdC5hcHBlbmRDaGlsZChyb290KVxuICAgICAgcm9vdFxuXG4gIGdldEFjdGl2ZVBhdGg6IC0+IGF0b20ud29ya3NwYWNlLmdldENlbnRlcigpLmdldEFjdGl2ZVBhbmVJdGVtKCk/LmdldFBhdGg/KClcblxuICBzZWxlY3RBY3RpdmVGaWxlOiAtPlxuICAgIGlmIGFjdGl2ZUZpbGVQYXRoID0gQGdldEFjdGl2ZVBhdGgoKVxuICAgICAgQHNlbGVjdEVudHJ5Rm9yUGF0aChhY3RpdmVGaWxlUGF0aClcblxuICByZXZlYWxBY3RpdmVGaWxlOiAoZm9jdXMpIC0+XG4gICAgaWYgXy5pc0VtcHR5KGF0b20ucHJvamVjdC5nZXRQYXRocygpKVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG5cbiAgICBAc2hvdyhmb2N1cyA/IGF0b20uY29uZmlnLmdldCgndHJlZS12aWV3LmZvY3VzT25SZXZlYWwnKSkudGhlbiA9PlxuICAgICAgcmV0dXJuIHVubGVzcyBhY3RpdmVGaWxlUGF0aCA9IEBnZXRBY3RpdmVQYXRoKClcblxuICAgICAgW3Jvb3RQYXRoLCByZWxhdGl2ZVBhdGhdID0gYXRvbS5wcm9qZWN0LnJlbGF0aXZpemVQYXRoKGFjdGl2ZUZpbGVQYXRoKVxuICAgICAgcmV0dXJuIHVubGVzcyByb290UGF0aD9cblxuICAgICAgYWN0aXZlUGF0aENvbXBvbmVudHMgPSByZWxhdGl2ZVBhdGguc3BsaXQocGF0aC5zZXApXG4gICAgICBjdXJyZW50UGF0aCA9IHJvb3RQYXRoXG4gICAgICBmb3IgcGF0aENvbXBvbmVudCBpbiBhY3RpdmVQYXRoQ29tcG9uZW50c1xuICAgICAgICBjdXJyZW50UGF0aCArPSBwYXRoLnNlcCArIHBhdGhDb21wb25lbnRcbiAgICAgICAgZW50cnkgPSBAZW50cnlGb3JQYXRoKGN1cnJlbnRQYXRoKVxuICAgICAgICBpZiBlbnRyeS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpcmVjdG9yeScpXG4gICAgICAgICAgZW50cnkuZXhwYW5kKClcbiAgICAgICAgZWxzZVxuICAgICAgICAgIEBzZWxlY3RFbnRyeShlbnRyeSlcbiAgICAgICAgICBAc2Nyb2xsVG9FbnRyeShlbnRyeSlcblxuICBjb3B5U2VsZWN0ZWRFbnRyeVBhdGg6IChyZWxhdGl2ZVBhdGggPSBmYWxzZSkgLT5cbiAgICBpZiBwYXRoVG9Db3B5ID0gQHNlbGVjdGVkUGF0aFxuICAgICAgcGF0aFRvQ29weSA9IGF0b20ucHJvamVjdC5yZWxhdGl2aXplKHBhdGhUb0NvcHkpIGlmIHJlbGF0aXZlUGF0aFxuICAgICAgYXRvbS5jbGlwYm9hcmQud3JpdGUocGF0aFRvQ29weSlcblxuICBlbnRyeUZvclBhdGg6IChlbnRyeVBhdGgpIC0+XG4gICAgYmVzdE1hdGNoRW50cnkgPSBudWxsXG4gICAgYmVzdE1hdGNoTGVuZ3RoID0gMFxuXG4gICAgZm9yIGVudHJ5IGluIEBsaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbnRyeScpXG4gICAgICBpZiBlbnRyeS5pc1BhdGhFcXVhbChlbnRyeVBhdGgpXG4gICAgICAgIHJldHVybiBlbnRyeVxuXG4gICAgICBlbnRyeUxlbmd0aCA9IGVudHJ5LmdldFBhdGgoKS5sZW5ndGhcbiAgICAgIGlmIGVudHJ5LmRpcmVjdG9yeT8uY29udGFpbnMoZW50cnlQYXRoKSBhbmQgZW50cnlMZW5ndGggPiBiZXN0TWF0Y2hMZW5ndGhcbiAgICAgICAgYmVzdE1hdGNoRW50cnkgPSBlbnRyeVxuICAgICAgICBiZXN0TWF0Y2hMZW5ndGggPSBlbnRyeUxlbmd0aFxuXG4gICAgYmVzdE1hdGNoRW50cnlcblxuICBzZWxlY3RFbnRyeUZvclBhdGg6IChlbnRyeVBhdGgpIC0+XG4gICAgQHNlbGVjdEVudHJ5KEBlbnRyeUZvclBhdGgoZW50cnlQYXRoKSlcblxuICBtb3ZlRG93bjogKGV2ZW50KSAtPlxuICAgIGV2ZW50Py5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuICAgIHNlbGVjdGVkRW50cnkgPSBAc2VsZWN0ZWRFbnRyeSgpXG4gICAgaWYgc2VsZWN0ZWRFbnRyeT9cbiAgICAgIGlmIHNlbGVjdGVkRW50cnkuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXJlY3RvcnknKVxuICAgICAgICBpZiBAc2VsZWN0RW50cnkoc2VsZWN0ZWRFbnRyeS5lbnRyaWVzLmNoaWxkcmVuWzBdKVxuICAgICAgICAgIEBzY3JvbGxUb0VudHJ5KEBzZWxlY3RlZEVudHJ5KCkpXG4gICAgICAgICAgcmV0dXJuXG5cbiAgICAgIGlmIG5leHRFbnRyeSA9IEBuZXh0RW50cnkoc2VsZWN0ZWRFbnRyeSlcbiAgICAgICAgQHNlbGVjdEVudHJ5KG5leHRFbnRyeSlcbiAgICBlbHNlXG4gICAgICBAc2VsZWN0RW50cnkoQHJvb3RzWzBdKVxuXG4gICAgQHNjcm9sbFRvRW50cnkoQHNlbGVjdGVkRW50cnkoKSlcblxuICBtb3ZlVXA6IChldmVudCkgLT5cbiAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuICAgIHNlbGVjdGVkRW50cnkgPSBAc2VsZWN0ZWRFbnRyeSgpXG4gICAgaWYgc2VsZWN0ZWRFbnRyeT9cbiAgICAgIGlmIHByZXZpb3VzRW50cnkgPSBAcHJldmlvdXNFbnRyeShzZWxlY3RlZEVudHJ5KVxuICAgICAgICBAc2VsZWN0RW50cnkocHJldmlvdXNFbnRyeSlcbiAgICAgICAgaWYgcHJldmlvdXNFbnRyeS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpcmVjdG9yeScpXG4gICAgICAgICAgQHNlbGVjdEVudHJ5KF8ubGFzdChwcmV2aW91c0VudHJ5LmVudHJpZXMuY2hpbGRyZW4pKVxuICAgICAgZWxzZVxuICAgICAgICBAc2VsZWN0RW50cnkoc2VsZWN0ZWRFbnRyeS5wYXJlbnRFbGVtZW50LmNsb3Nlc3QoJy5kaXJlY3RvcnknKSlcbiAgICBlbHNlXG4gICAgICBlbnRyaWVzID0gQGxpc3QucXVlcnlTZWxlY3RvckFsbCgnLmVudHJ5JylcbiAgICAgIEBzZWxlY3RFbnRyeShlbnRyaWVzW2VudHJpZXMubGVuZ3RoIC0gMV0pXG5cbiAgICBAc2Nyb2xsVG9FbnRyeShAc2VsZWN0ZWRFbnRyeSgpKVxuXG4gIG5leHRFbnRyeTogKGVudHJ5KSAtPlxuICAgIGN1cnJlbnRFbnRyeSA9IGVudHJ5XG4gICAgd2hpbGUgY3VycmVudEVudHJ5P1xuICAgICAgaWYgY3VycmVudEVudHJ5Lm5leHRTaWJsaW5nP1xuICAgICAgICBjdXJyZW50RW50cnkgPSBjdXJyZW50RW50cnkubmV4dFNpYmxpbmdcbiAgICAgICAgaWYgY3VycmVudEVudHJ5Lm1hdGNoZXMoJy5lbnRyeScpXG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRFbnRyeVxuICAgICAgZWxzZVxuICAgICAgICBjdXJyZW50RW50cnkgPSBjdXJyZW50RW50cnkucGFyZW50RWxlbWVudC5jbG9zZXN0KCcuZGlyZWN0b3J5JylcblxuICAgIHJldHVybiBudWxsXG5cbiAgcHJldmlvdXNFbnRyeTogKGVudHJ5KSAtPlxuICAgIGN1cnJlbnRFbnRyeSA9IGVudHJ5XG4gICAgd2hpbGUgY3VycmVudEVudHJ5P1xuICAgICAgY3VycmVudEVudHJ5ID0gY3VycmVudEVudHJ5LnByZXZpb3VzU2libGluZ1xuICAgICAgaWYgY3VycmVudEVudHJ5Py5tYXRjaGVzKCcuZW50cnknKVxuICAgICAgICByZXR1cm4gY3VycmVudEVudHJ5XG4gICAgcmV0dXJuIG51bGxcblxuICBleHBhbmREaXJlY3Rvcnk6IChpc1JlY3Vyc2l2ZT1mYWxzZSkgLT5cbiAgICBzZWxlY3RlZEVudHJ5ID0gQHNlbGVjdGVkRW50cnkoKVxuICAgIHJldHVybiB1bmxlc3Mgc2VsZWN0ZWRFbnRyeT9cblxuICAgIGlmIGlzUmVjdXJzaXZlIGlzIGZhbHNlIGFuZCBzZWxlY3RlZEVudHJ5LmlzRXhwYW5kZWRcbiAgICAgIEBtb3ZlRG93bigpIGlmIHNlbGVjdGVkRW50cnkuZGlyZWN0b3J5LmdldEVudHJpZXMoKS5sZW5ndGggPiAwXG4gICAgZWxzZVxuICAgICAgc2VsZWN0ZWRFbnRyeS5leHBhbmQoaXNSZWN1cnNpdmUpXG5cbiAgY29sbGFwc2VEaXJlY3Rvcnk6IChpc1JlY3Vyc2l2ZT1mYWxzZSkgLT5cbiAgICBzZWxlY3RlZEVudHJ5ID0gQHNlbGVjdGVkRW50cnkoKVxuICAgIHJldHVybiB1bmxlc3Mgc2VsZWN0ZWRFbnRyeT9cblxuICAgIGlmIGRpcmVjdG9yeSA9IHNlbGVjdGVkRW50cnkuY2xvc2VzdCgnLmV4cGFuZGVkLmRpcmVjdG9yeScpXG4gICAgICBkaXJlY3RvcnkuY29sbGFwc2UoaXNSZWN1cnNpdmUpXG4gICAgICBAc2VsZWN0RW50cnkoZGlyZWN0b3J5KVxuXG4gIG9wZW5TZWxlY3RlZEVudHJ5OiAob3B0aW9ucz17fSwgZXhwYW5kRGlyZWN0b3J5PWZhbHNlKSAtPlxuICAgIHNlbGVjdGVkRW50cnkgPSBAc2VsZWN0ZWRFbnRyeSgpXG4gICAgcmV0dXJuIHVubGVzcyBzZWxlY3RlZEVudHJ5P1xuXG4gICAgaWYgc2VsZWN0ZWRFbnRyeS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpcmVjdG9yeScpXG4gICAgICBpZiBleHBhbmREaXJlY3RvcnlcbiAgICAgICAgQGV4cGFuZERpcmVjdG9yeShmYWxzZSlcbiAgICAgIGVsc2VcbiAgICAgICAgc2VsZWN0ZWRFbnRyeS50b2dnbGVFeHBhbnNpb24oKVxuICAgIGVsc2UgaWYgc2VsZWN0ZWRFbnRyeS5jbGFzc0xpc3QuY29udGFpbnMoJ2ZpbGUnKVxuICAgICAgaWYgYXRvbS5jb25maWcuZ2V0KCd0cmVlLXZpZXcuYWx3YXlzT3BlbkV4aXN0aW5nJylcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24gc2VhcmNoQWxsUGFuZXM6IHRydWUsIG9wdGlvbnNcbiAgICAgIEBvcGVuQWZ0ZXJQcm9taXNlKHNlbGVjdGVkRW50cnkuZ2V0UGF0aCgpLCBvcHRpb25zKVxuXG4gIG9wZW5TZWxlY3RlZEVudHJ5U3BsaXQ6IChvcmllbnRhdGlvbiwgc2lkZSkgLT5cbiAgICBzZWxlY3RlZEVudHJ5ID0gQHNlbGVjdGVkRW50cnkoKVxuICAgIHJldHVybiB1bmxlc3Mgc2VsZWN0ZWRFbnRyeT9cblxuICAgIHBhbmUgPSBhdG9tLndvcmtzcGFjZS5nZXRDZW50ZXIoKS5nZXRBY3RpdmVQYW5lKClcbiAgICBpZiBwYW5lIGFuZCBzZWxlY3RlZEVudHJ5LmNsYXNzTGlzdC5jb250YWlucygnZmlsZScpXG4gICAgICBpZiBhdG9tLndvcmtzcGFjZS5nZXRDZW50ZXIoKS5nZXRBY3RpdmVQYW5lSXRlbSgpXG4gICAgICAgIHNwbGl0ID0gcGFuZS5zcGxpdCBvcmllbnRhdGlvbiwgc2lkZVxuICAgICAgICBhdG9tLndvcmtzcGFjZS5vcGVuVVJJSW5QYW5lIHNlbGVjdGVkRW50cnkuZ2V0UGF0aCgpLCBzcGxpdFxuICAgICAgZWxzZVxuICAgICAgICBAb3BlblNlbGVjdGVkRW50cnkgeWVzXG5cbiAgb3BlblNlbGVjdGVkRW50cnlSaWdodDogLT5cbiAgICBAb3BlblNlbGVjdGVkRW50cnlTcGxpdCAnaG9yaXpvbnRhbCcsICdhZnRlcidcblxuICBvcGVuU2VsZWN0ZWRFbnRyeUxlZnQ6IC0+XG4gICAgQG9wZW5TZWxlY3RlZEVudHJ5U3BsaXQgJ2hvcml6b250YWwnLCAnYmVmb3JlJ1xuXG4gIG9wZW5TZWxlY3RlZEVudHJ5VXA6IC0+XG4gICAgQG9wZW5TZWxlY3RlZEVudHJ5U3BsaXQgJ3ZlcnRpY2FsJywgJ2JlZm9yZSdcblxuICBvcGVuU2VsZWN0ZWRFbnRyeURvd246IC0+XG4gICAgQG9wZW5TZWxlY3RlZEVudHJ5U3BsaXQgJ3ZlcnRpY2FsJywgJ2FmdGVyJ1xuXG4gIG9wZW5TZWxlY3RlZEVudHJ5SW5QYW5lOiAoaW5kZXgpIC0+XG4gICAgc2VsZWN0ZWRFbnRyeSA9IEBzZWxlY3RlZEVudHJ5KClcbiAgICByZXR1cm4gdW5sZXNzIHNlbGVjdGVkRW50cnk/XG5cbiAgICBwYW5lID0gYXRvbS53b3Jrc3BhY2UuZ2V0Q2VudGVyKCkuZ2V0UGFuZXMoKVtpbmRleF1cbiAgICBpZiBwYW5lIGFuZCBzZWxlY3RlZEVudHJ5LmNsYXNzTGlzdC5jb250YWlucygnZmlsZScpXG4gICAgICBhdG9tLndvcmtzcGFjZS5vcGVuVVJJSW5QYW5lIHNlbGVjdGVkRW50cnkuZ2V0UGF0aCgpLCBwYW5lXG5cbiAgbW92ZVNlbGVjdGVkRW50cnk6IC0+XG4gICAgaWYgQGhhc0ZvY3VzKClcbiAgICAgIGVudHJ5ID0gQHNlbGVjdGVkRW50cnkoKVxuICAgICAgcmV0dXJuIGlmIG5vdCBlbnRyeT8gb3IgZW50cnkgaW4gQHJvb3RzXG4gICAgICBvbGRQYXRoID0gZW50cnkuZ2V0UGF0aCgpXG4gICAgZWxzZVxuICAgICAgb2xkUGF0aCA9IEBnZXRBY3RpdmVQYXRoKClcblxuICAgIGlmIG9sZFBhdGhcbiAgICAgIGRpYWxvZyA9IG5ldyBNb3ZlRGlhbG9nIG9sZFBhdGgsXG4gICAgICAgIG9uTW92ZTogKHtpbml0aWFsUGF0aCwgbmV3UGF0aH0pID0+XG4gICAgICAgICAgQGVtaXR0ZXIuZW1pdCAnZW50cnktbW92ZWQnLCB7aW5pdGlhbFBhdGgsIG5ld1BhdGh9XG4gICAgICBkaWFsb2cuYXR0YWNoKClcblxuICAjIEdldCB0aGUgb3V0bGluZSBvZiBhIHN5c3RlbSBjYWxsIHRvIHRoZSBjdXJyZW50IHBsYXRmb3JtJ3MgZmlsZSBtYW5hZ2VyLlxuICAjXG4gICMgcGF0aFRvT3BlbiAgLSBQYXRoIHRvIGEgZmlsZSBvciBkaXJlY3RvcnkuXG4gICMgaXNGaWxlICAgICAgLSBUcnVlIGlmIHRoZSBwYXRoIGlzIGEgZmlsZSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAjXG4gICMgUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyBhIGNvbW1hbmQsIGEgaHVtYW4tcmVhZGFibGUgbGFiZWwsIGFuZCB0aGVcbiAgIyBhcmd1bWVudHMuXG4gIGZpbGVNYW5hZ2VyQ29tbWFuZEZvclBhdGg6IChwYXRoVG9PcGVuLCBpc0ZpbGUpIC0+XG4gICAgc3dpdGNoIHByb2Nlc3MucGxhdGZvcm1cbiAgICAgIHdoZW4gJ2RhcndpbidcbiAgICAgICAgY29tbWFuZDogJ29wZW4nXG4gICAgICAgIGxhYmVsOiAnRmluZGVyJ1xuICAgICAgICBhcmdzOiBbJy1SJywgcGF0aFRvT3Blbl1cbiAgICAgIHdoZW4gJ3dpbjMyJ1xuICAgICAgICBhcmdzID0gW1wiL3NlbGVjdCxcXFwiI3twYXRoVG9PcGVufVxcXCJcIl1cblxuICAgICAgICBpZiBwcm9jZXNzLmVudi5TeXN0ZW1Sb290XG4gICAgICAgICAgY29tbWFuZCA9IHBhdGguam9pbihwcm9jZXNzLmVudi5TeXN0ZW1Sb290LCAnZXhwbG9yZXIuZXhlJylcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGNvbW1hbmQgPSAnZXhwbG9yZXIuZXhlJ1xuXG4gICAgICAgIGNvbW1hbmQ6IGNvbW1hbmRcbiAgICAgICAgbGFiZWw6ICdFeHBsb3JlcidcbiAgICAgICAgYXJnczogYXJnc1xuICAgICAgZWxzZVxuICAgICAgICAjIFN0cmlwIHRoZSBmaWxlbmFtZSBmcm9tIHRoZSBwYXRoIHRvIG1ha2Ugc3VyZSB3ZSBwYXNzIGEgZGlyZWN0b3J5XG4gICAgICAgICMgcGF0aC4gSWYgd2UgcGFzcyB4ZGctb3BlbiBhIGZpbGUgcGF0aCwgaXQgd2lsbCBvcGVuIHRoYXQgZmlsZSBpbiB0aGVcbiAgICAgICAgIyBtb3N0IHN1aXRhYmxlIGFwcGxpY2F0aW9uIGluc3RlYWQsIHdoaWNoIGlzIG5vdCB3aGF0IHdlIHdhbnQuXG4gICAgICAgIHBhdGhUb09wZW4gPSAgcGF0aC5kaXJuYW1lKHBhdGhUb09wZW4pIGlmIGlzRmlsZVxuXG4gICAgICAgIGNvbW1hbmQ6ICd4ZGctb3BlbidcbiAgICAgICAgbGFiZWw6ICdGaWxlIE1hbmFnZXInXG4gICAgICAgIGFyZ3M6IFtwYXRoVG9PcGVuXVxuXG4gIG9wZW5JbkZpbGVNYW5hZ2VyOiAoY29tbWFuZCwgYXJncywgbGFiZWwsIGlzRmlsZSkgLT5cbiAgICBoYW5kbGVFcnJvciA9IChlcnJvck1lc3NhZ2UpIC0+XG4gICAgICBhdG9tLm5vdGlmaWNhdGlvbnMuYWRkRXJyb3IgXCJPcGVuaW5nICN7aWYgaXNGaWxlIHRoZW4gJ2ZpbGUnIGVsc2UgJ2ZvbGRlcid9IGluICN7bGFiZWx9IGZhaWxlZFwiLFxuICAgICAgICBkZXRhaWw6IGVycm9yTWVzc2FnZVxuICAgICAgICBkaXNtaXNzYWJsZTogdHJ1ZVxuXG4gICAgZXJyb3JMaW5lcyA9IFtdXG4gICAgc3RkZXJyID0gKGxpbmVzKSAtPiBlcnJvckxpbmVzLnB1c2gobGluZXMpXG4gICAgZXhpdCA9IChjb2RlKSAtPlxuICAgICAgZmFpbGVkID0gY29kZSBpc250IDBcbiAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yTGluZXMuam9pbignXFxuJylcblxuICAgICAgIyBXaW5kb3dzIDggc2VlbXMgdG8gcmV0dXJuIGEgMSB3aXRoIG5vIGVycm9yIG91dHB1dCBldmVuIG9uIHN1Y2Nlc3NcbiAgICAgIGlmIHByb2Nlc3MucGxhdGZvcm0gaXMgJ3dpbjMyJyBhbmQgY29kZSBpcyAxIGFuZCBub3QgZXJyb3JNZXNzYWdlXG4gICAgICAgIGZhaWxlZCA9IGZhbHNlXG5cbiAgICAgIGhhbmRsZUVycm9yKGVycm9yTWVzc2FnZSkgaWYgZmFpbGVkXG5cbiAgICBzaG93UHJvY2VzcyA9IG5ldyBCdWZmZXJlZFByb2Nlc3Moe2NvbW1hbmQsIGFyZ3MsIHN0ZGVyciwgZXhpdH0pXG4gICAgc2hvd1Byb2Nlc3Mub25XaWxsVGhyb3dFcnJvciAoe2Vycm9yLCBoYW5kbGV9KSAtPlxuICAgICAgaGFuZGxlKClcbiAgICAgIGhhbmRsZUVycm9yKGVycm9yPy5tZXNzYWdlKVxuICAgIHNob3dQcm9jZXNzXG5cbiAgc2hvd1NlbGVjdGVkRW50cnlJbkZpbGVNYW5hZ2VyOiAtPlxuICAgIHJldHVybiB1bmxlc3MgZW50cnkgPSBAc2VsZWN0ZWRFbnRyeSgpXG5cbiAgICBpc0ZpbGUgPSBlbnRyeS5jbGFzc0xpc3QuY29udGFpbnMoJ2ZpbGUnKVxuICAgIHtjb21tYW5kLCBhcmdzLCBsYWJlbH0gPSBAZmlsZU1hbmFnZXJDb21tYW5kRm9yUGF0aChlbnRyeS5nZXRQYXRoKCksIGlzRmlsZSlcbiAgICBAb3BlbkluRmlsZU1hbmFnZXIoY29tbWFuZCwgYXJncywgbGFiZWwsIGlzRmlsZSlcblxuICBzaG93Q3VycmVudEZpbGVJbkZpbGVNYW5hZ2VyOiAtPlxuICAgIHJldHVybiB1bmxlc3MgZWRpdG9yID0gYXRvbS53b3Jrc3BhY2UuZ2V0Q2VudGVyKCkuZ2V0QWN0aXZlVGV4dEVkaXRvcigpXG4gICAgcmV0dXJuIHVubGVzcyBlZGl0b3IuZ2V0UGF0aCgpXG4gICAge2NvbW1hbmQsIGFyZ3MsIGxhYmVsfSA9IEBmaWxlTWFuYWdlckNvbW1hbmRGb3JQYXRoKGVkaXRvci5nZXRQYXRoKCksIHRydWUpXG4gICAgQG9wZW5JbkZpbGVNYW5hZ2VyKGNvbW1hbmQsIGFyZ3MsIGxhYmVsLCB0cnVlKVxuXG4gIG9wZW5TZWxlY3RlZEVudHJ5SW5OZXdXaW5kb3c6IC0+XG4gICAgaWYgcGF0aFRvT3BlbiA9IEBzZWxlY3RlZEVudHJ5KCk/LmdldFBhdGgoKVxuICAgICAgYXRvbS5vcGVuKHtwYXRoc1RvT3BlbjogW3BhdGhUb09wZW5dLCBuZXdXaW5kb3c6IHRydWV9KVxuXG4gIGNvcHlTZWxlY3RlZEVudHJ5OiAtPlxuICAgIGlmIEBoYXNGb2N1cygpXG4gICAgICBlbnRyeSA9IEBzZWxlY3RlZEVudHJ5KClcbiAgICAgIHJldHVybiBpZiBlbnRyeSBpbiBAcm9vdHNcbiAgICAgIG9sZFBhdGggPSBlbnRyeT8uZ2V0UGF0aCgpXG4gICAgZWxzZVxuICAgICAgb2xkUGF0aCA9IEBnZXRBY3RpdmVQYXRoKClcbiAgICByZXR1cm4gdW5sZXNzIG9sZFBhdGhcblxuICAgIGRpYWxvZyA9IG5ldyBDb3B5RGlhbG9nIG9sZFBhdGgsXG4gICAgICBvbkNvcHk6ICh7aW5pdGlhbFBhdGgsIG5ld1BhdGh9KSA9PlxuICAgICAgICBAZW1pdHRlci5lbWl0ICdlbnRyeS1jb3BpZWQnLCB7aW5pdGlhbFBhdGgsIG5ld1BhdGh9XG4gICAgZGlhbG9nLmF0dGFjaCgpXG5cbiAgcmVtb3ZlU2VsZWN0ZWRFbnRyaWVzOiAtPlxuICAgIGlmIEBoYXNGb2N1cygpXG4gICAgICBzZWxlY3RlZFBhdGhzID0gQHNlbGVjdGVkUGF0aHMoKVxuICAgIGVsc2UgaWYgYWN0aXZlUGF0aCA9IEBnZXRBY3RpdmVQYXRoKClcbiAgICAgIHNlbGVjdGVkUGF0aHMgPSBbYWN0aXZlUGF0aF1cblxuICAgIHJldHVybiB1bmxlc3Mgc2VsZWN0ZWRQYXRocyBhbmQgc2VsZWN0ZWRQYXRocy5sZW5ndGggPiAwXG5cbiAgICBmb3Igcm9vdCBpbiBAcm9vdHNcbiAgICAgIGlmIHJvb3QuZ2V0UGF0aCgpIGluIHNlbGVjdGVkUGF0aHNcbiAgICAgICAgYXRvbS5jb25maXJtXG4gICAgICAgICAgbWVzc2FnZTogXCJUaGUgcm9vdCBkaXJlY3RvcnkgJyN7cm9vdC5kaXJlY3RvcnkubmFtZX0nIGNhbid0IGJlIHJlbW92ZWQuXCJcbiAgICAgICAgICBidXR0b25zOiBbJ09LJ11cbiAgICAgICAgcmV0dXJuXG5cbiAgICBhdG9tLmNvbmZpcm1cbiAgICAgIG1lc3NhZ2U6IFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGUgc2VsZWN0ZWQgI3tpZiBzZWxlY3RlZFBhdGhzLmxlbmd0aCA+IDEgdGhlbiAnaXRlbXMnIGVsc2UgJ2l0ZW0nfT9cIlxuICAgICAgZGV0YWlsZWRNZXNzYWdlOiBcIllvdSBhcmUgZGVsZXRpbmc6XFxuI3tzZWxlY3RlZFBhdGhzLmpvaW4oJ1xcbicpfVwiXG4gICAgICBidXR0b25zOlxuICAgICAgICBcIk1vdmUgdG8gVHJhc2hcIjogPT5cbiAgICAgICAgICBmYWlsZWREZWxldGlvbnMgPSBbXVxuICAgICAgICAgIGZvciBzZWxlY3RlZFBhdGggaW4gc2VsZWN0ZWRQYXRoc1xuICAgICAgICAgICAgaWYgc2hlbGwubW92ZUl0ZW1Ub1RyYXNoKHNlbGVjdGVkUGF0aClcbiAgICAgICAgICAgICAgQGVtaXR0ZXIuZW1pdCAnZW50cnktZGVsZXRlZCcsIHtwYXRoOiBzZWxlY3RlZFBhdGh9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGZhaWxlZERlbGV0aW9ucy5wdXNoIFwiI3tzZWxlY3RlZFBhdGh9XCJcbiAgICAgICAgICAgIGlmIHJlcG8gPSByZXBvRm9yUGF0aChzZWxlY3RlZFBhdGgpXG4gICAgICAgICAgICAgIHJlcG8uZ2V0UGF0aFN0YXR1cyhzZWxlY3RlZFBhdGgpXG4gICAgICAgICAgaWYgZmFpbGVkRGVsZXRpb25zLmxlbmd0aCA+IDBcbiAgICAgICAgICAgIGF0b20ubm90aWZpY2F0aW9ucy5hZGRFcnJvciBAZm9ybWF0VHJhc2hGYWlsdXJlTWVzc2FnZShmYWlsZWREZWxldGlvbnMpLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogQGZvcm1hdFRyYXNoRW5hYmxlZE1lc3NhZ2UoKVxuICAgICAgICAgICAgICBkZXRhaWw6IFwiI3tmYWlsZWREZWxldGlvbnMuam9pbignXFxuJyl9XCJcbiAgICAgICAgICAgICAgZGlzbWlzc2FibGU6IHRydWVcbiAgICAgICAgICBAdXBkYXRlUm9vdHMoKSBpZiBhdG9tLmNvbmZpZy5nZXQoJ3RyZWUtdmlldy5zcXVhc2hEaXJlY3RvcnlOYW1lcycpXG4gICAgICAgIFwiQ2FuY2VsXCI6IG51bGxcblxuICBmb3JtYXRUcmFzaEZhaWx1cmVNZXNzYWdlOiAoZmFpbGVkRGVsZXRpb25zKSAtPlxuICAgIGZpbGVUZXh0ID0gaWYgZmFpbGVkRGVsZXRpb25zLmxlbmd0aCA+IDEgdGhlbiAnZmlsZXMnIGVsc2UgJ2ZpbGUnXG5cbiAgICBcIlRoZSBmb2xsb3dpbmcgI3tmaWxlVGV4dH0gY291bGRuJ3QgYmUgbW92ZWQgdG8gdGhlIHRyYXNoLlwiXG5cbiAgZm9ybWF0VHJhc2hFbmFibGVkTWVzc2FnZTogLT5cbiAgICBzd2l0Y2ggcHJvY2Vzcy5wbGF0Zm9ybVxuICAgICAgd2hlbiAnbGludXgnIHRoZW4gJ0lzIGBndmZzLXRyYXNoYCBpbnN0YWxsZWQ/J1xuICAgICAgd2hlbiAnZGFyd2luJyB0aGVuICdJcyBUcmFzaCBlbmFibGVkIG9uIHRoZSB2b2x1bWUgd2hlcmUgdGhlIGZpbGVzIGFyZSBzdG9yZWQ/J1xuICAgICAgd2hlbiAnd2luMzInIHRoZW4gJ0lzIHRoZXJlIGEgUmVjeWNsZSBCaW4gb24gdGhlIGRyaXZlIHdoZXJlIHRoZSBmaWxlcyBhcmUgc3RvcmVkPydcblxuICAjIFB1YmxpYzogQ29weSB0aGUgcGF0aCBvZiB0aGUgc2VsZWN0ZWQgZW50cnkgZWxlbWVudC5cbiAgIyAgICAgICAgIFNhdmUgdGhlIHBhdGggaW4gbG9jYWxTdG9yYWdlLCBzbyB0aGF0IGNvcHlpbmcgZnJvbSAyIGRpZmZlcmVudFxuICAjICAgICAgICAgaW5zdGFuY2VzIG9mIGF0b20gd29ya3MgYXMgaW50ZW5kZWRcbiAgI1xuICAjXG4gICMgUmV0dXJucyBgY29weVBhdGhgLlxuICBjb3B5U2VsZWN0ZWRFbnRyaWVzOiAtPlxuICAgIHNlbGVjdGVkUGF0aHMgPSBAc2VsZWN0ZWRQYXRocygpXG4gICAgcmV0dXJuIHVubGVzcyBzZWxlY3RlZFBhdGhzIGFuZCBzZWxlY3RlZFBhdGhzLmxlbmd0aCA+IDBcbiAgICAjIHNhdmUgdG8gbG9jYWxTdG9yYWdlIHNvIHdlIGNhbiBwYXN0ZSBhY3Jvc3MgbXVsdGlwbGUgb3BlbiBhcHBzXG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0cmVlLXZpZXc6Y3V0UGF0aCcpXG4gICAgd2luZG93LmxvY2FsU3RvcmFnZVsndHJlZS12aWV3OmNvcHlQYXRoJ10gPSBKU09OLnN0cmluZ2lmeShzZWxlY3RlZFBhdGhzKVxuXG4gICMgUHVibGljOiBDb3B5IHRoZSBwYXRoIG9mIHRoZSBzZWxlY3RlZCBlbnRyeSBlbGVtZW50LlxuICAjICAgICAgICAgU2F2ZSB0aGUgcGF0aCBpbiBsb2NhbFN0b3JhZ2UsIHNvIHRoYXQgY3V0dGluZyBmcm9tIDIgZGlmZmVyZW50XG4gICMgICAgICAgICBpbnN0YW5jZXMgb2YgYXRvbSB3b3JrcyBhcyBpbnRlbmRlZFxuICAjXG4gICNcbiAgIyBSZXR1cm5zIGBjdXRQYXRoYFxuICBjdXRTZWxlY3RlZEVudHJpZXM6IC0+XG4gICAgc2VsZWN0ZWRQYXRocyA9IEBzZWxlY3RlZFBhdGhzKClcbiAgICByZXR1cm4gdW5sZXNzIHNlbGVjdGVkUGF0aHMgYW5kIHNlbGVjdGVkUGF0aHMubGVuZ3RoID4gMFxuICAgICMgc2F2ZSB0byBsb2NhbFN0b3JhZ2Ugc28gd2UgY2FuIHBhc3RlIGFjcm9zcyBtdWx0aXBsZSBvcGVuIGFwcHNcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3RyZWUtdmlldzpjb3B5UGF0aCcpXG4gICAgd2luZG93LmxvY2FsU3RvcmFnZVsndHJlZS12aWV3OmN1dFBhdGgnXSA9IEpTT04uc3RyaW5naWZ5KHNlbGVjdGVkUGF0aHMpXG5cbiAgIyBQdWJsaWM6IFBhc3RlIGEgY29waWVkIG9yIGN1dCBpdGVtLlxuICAjICAgICAgICAgSWYgYSBmaWxlIGlzIHNlbGVjdGVkLCB0aGUgZmlsZSdzIHBhcmVudCBkaXJlY3RvcnkgaXMgdXNlZCBhcyB0aGVcbiAgIyAgICAgICAgIHBhc3RlIGRlc3RpbmF0aW9uLlxuICAjXG4gICNcbiAgIyBSZXR1cm5zIGBkZXN0aW5hdGlvbiBuZXdQYXRoYC5cbiAgcGFzdGVFbnRyaWVzOiAtPlxuICAgIHNlbGVjdGVkRW50cnkgPSBAc2VsZWN0ZWRFbnRyeSgpXG4gICAgY3V0UGF0aHMgPSBpZiB3aW5kb3cubG9jYWxTdG9yYWdlWyd0cmVlLXZpZXc6Y3V0UGF0aCddIHRoZW4gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlWyd0cmVlLXZpZXc6Y3V0UGF0aCddKSBlbHNlIG51bGxcbiAgICBjb3BpZWRQYXRocyA9IGlmIHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ3RyZWUtdmlldzpjb3B5UGF0aCddIHRoZW4gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlWyd0cmVlLXZpZXc6Y29weVBhdGgnXSkgZWxzZSBudWxsXG4gICAgaW5pdGlhbFBhdGhzID0gY29waWVkUGF0aHMgb3IgY3V0UGF0aHNcblxuICAgIGNhdGNoQW5kU2hvd0ZpbGVFcnJvcnMgPSAob3BlcmF0aW9uKSAtPlxuICAgICAgdHJ5XG4gICAgICAgIG9wZXJhdGlvbigpXG4gICAgICBjYXRjaCBlcnJvclxuICAgICAgICBhdG9tLm5vdGlmaWNhdGlvbnMuYWRkV2FybmluZyhcIlVuYWJsZSB0byBwYXN0ZSBwYXRoczogI3tpbml0aWFsUGF0aHN9XCIsIGRldGFpbDogZXJyb3IubWVzc2FnZSlcblxuICAgIGZvciBpbml0aWFsUGF0aCBpbiBpbml0aWFsUGF0aHMgPyBbXVxuICAgICAgaW5pdGlhbFBhdGhJc0RpcmVjdG9yeSA9IGZzLmlzRGlyZWN0b3J5U3luYyhpbml0aWFsUGF0aClcbiAgICAgIGlmIHNlbGVjdGVkRW50cnkgYW5kIGluaXRpYWxQYXRoIGFuZCBmcy5leGlzdHNTeW5jKGluaXRpYWxQYXRoKVxuICAgICAgICBiYXNlUGF0aCA9IHNlbGVjdGVkRW50cnkuZ2V0UGF0aCgpXG4gICAgICAgIGJhc2VQYXRoID0gcGF0aC5kaXJuYW1lKGJhc2VQYXRoKSBpZiBzZWxlY3RlZEVudHJ5LmNsYXNzTGlzdC5jb250YWlucygnZmlsZScpXG4gICAgICAgIG5ld1BhdGggPSBwYXRoLmpvaW4oYmFzZVBhdGgsIHBhdGguYmFzZW5hbWUoaW5pdGlhbFBhdGgpKVxuXG4gICAgICAgIGlmIGNvcGllZFBhdGhzXG4gICAgICAgICAgIyBhcHBlbmQgYSBudW1iZXIgdG8gdGhlIGZpbGUgaWYgYW4gaXRlbSB3aXRoIHRoZSBzYW1lIG5hbWUgZXhpc3RzXG4gICAgICAgICAgZmlsZUNvdW50ZXIgPSAwXG4gICAgICAgICAgb3JpZ2luYWxOZXdQYXRoID0gbmV3UGF0aFxuICAgICAgICAgIHdoaWxlIGZzLmV4aXN0c1N5bmMobmV3UGF0aClcbiAgICAgICAgICAgIGlmIGluaXRpYWxQYXRoSXNEaXJlY3RvcnlcbiAgICAgICAgICAgICAgbmV3UGF0aCA9IFwiI3tvcmlnaW5hbE5ld1BhdGh9I3tmaWxlQ291bnRlcn1cIlxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICBleHRlbnNpb24gPSBnZXRGdWxsRXh0ZW5zaW9uKG9yaWdpbmFsTmV3UGF0aClcbiAgICAgICAgICAgICAgZmlsZVBhdGggPSBwYXRoLmpvaW4ocGF0aC5kaXJuYW1lKG9yaWdpbmFsTmV3UGF0aCksIHBhdGguYmFzZW5hbWUob3JpZ2luYWxOZXdQYXRoLCBleHRlbnNpb24pKVxuICAgICAgICAgICAgICBuZXdQYXRoID0gXCIje2ZpbGVQYXRofSN7ZmlsZUNvdW50ZXJ9I3tleHRlbnNpb259XCJcbiAgICAgICAgICAgIGZpbGVDb3VudGVyICs9IDFcblxuICAgICAgICAgIGlmIGZzLmlzRGlyZWN0b3J5U3luYyhpbml0aWFsUGF0aClcbiAgICAgICAgICAgICMgdXNlIGZzLmNvcHkgdG8gY29weSBkaXJlY3RvcmllcyBzaW5jZSByZWFkL3dyaXRlIHdpbGwgZmFpbCBmb3IgZGlyZWN0b3JpZXNcbiAgICAgICAgICAgIGNhdGNoQW5kU2hvd0ZpbGVFcnJvcnMgPT5cbiAgICAgICAgICAgICAgZnMuY29weVN5bmMoaW5pdGlhbFBhdGgsIG5ld1BhdGgpXG4gICAgICAgICAgICAgIEBlbWl0dGVyLmVtaXQgJ2VudHJ5LWNvcGllZCcsIHtpbml0aWFsUGF0aCwgbmV3UGF0aH1cbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAjIHJlYWQgdGhlIG9sZCBmaWxlIGFuZCB3cml0ZSBhIG5ldyBvbmUgYXQgdGFyZ2V0IGxvY2F0aW9uXG4gICAgICAgICAgICBjYXRjaEFuZFNob3dGaWxlRXJyb3JzID0+XG4gICAgICAgICAgICAgIGZzLndyaXRlRmlsZVN5bmMobmV3UGF0aCwgZnMucmVhZEZpbGVTeW5jKGluaXRpYWxQYXRoKSlcbiAgICAgICAgICAgICAgQGVtaXR0ZXIuZW1pdCAnZW50cnktY29waWVkJywge2luaXRpYWxQYXRoLCBuZXdQYXRofVxuICAgICAgICBlbHNlIGlmIGN1dFBhdGhzXG4gICAgICAgICAgIyBPbmx5IG1vdmUgdGhlIHRhcmdldCBpZiB0aGUgY3V0IHRhcmdldCBkb2Vzbid0IGV4aXN0IGFuZCBpZiB0aGUgbmV3UGF0aFxuICAgICAgICAgICMgaXMgbm90IHdpdGhpbiB0aGUgaW5pdGlhbCBwYXRoXG4gICAgICAgICAgdW5sZXNzIGZzLmV4aXN0c1N5bmMobmV3UGF0aCkgb3IgbmV3UGF0aC5zdGFydHNXaXRoKGluaXRpYWxQYXRoKVxuICAgICAgICAgICAgY2F0Y2hBbmRTaG93RmlsZUVycm9ycyA9PlxuICAgICAgICAgICAgICBmcy5tb3ZlU3luYyhpbml0aWFsUGF0aCwgbmV3UGF0aClcbiAgICAgICAgICAgICAgQGVtaXR0ZXIuZW1pdCAnZW50cnktbW92ZWQnLCB7aW5pdGlhbFBhdGgsIG5ld1BhdGh9XG5cbiAgYWRkOiAoaXNDcmVhdGluZ0ZpbGUpIC0+XG4gICAgc2VsZWN0ZWRFbnRyeSA9IEBzZWxlY3RlZEVudHJ5KCkgPyBAcm9vdHNbMF1cbiAgICBzZWxlY3RlZFBhdGggPSBzZWxlY3RlZEVudHJ5Py5nZXRQYXRoKCkgPyAnJ1xuXG4gICAgZGlhbG9nID0gbmV3IEFkZERpYWxvZyhzZWxlY3RlZFBhdGgsIGlzQ3JlYXRpbmdGaWxlKVxuICAgIGRpYWxvZy5vbkRpZENyZWF0ZURpcmVjdG9yeSAoY3JlYXRlZFBhdGgpID0+XG4gICAgICBAZW50cnlGb3JQYXRoKGNyZWF0ZWRQYXRoKT8ucmVsb2FkKClcbiAgICAgIEBzZWxlY3RFbnRyeUZvclBhdGgoY3JlYXRlZFBhdGgpXG4gICAgICBAdXBkYXRlUm9vdHMoKSBpZiBhdG9tLmNvbmZpZy5nZXQoJ3RyZWUtdmlldy5zcXVhc2hEaXJlY3RvcnlOYW1lcycpXG4gICAgICBAZW1pdHRlci5lbWl0ICdkaXJlY3RvcnktY3JlYXRlZCcsIHtwYXRoOiBjcmVhdGVkUGF0aH1cbiAgICBkaWFsb2cub25EaWRDcmVhdGVGaWxlIChjcmVhdGVkUGF0aCkgPT5cbiAgICAgIGF0b20ud29ya3NwYWNlLm9wZW4oY3JlYXRlZFBhdGgpXG4gICAgICBAdXBkYXRlUm9vdHMoKSBpZiBhdG9tLmNvbmZpZy5nZXQoJ3RyZWUtdmlldy5zcXVhc2hEaXJlY3RvcnlOYW1lcycpXG4gICAgICBAZW1pdHRlci5lbWl0ICdmaWxlLWNyZWF0ZWQnLCB7cGF0aDogY3JlYXRlZFBhdGh9XG4gICAgZGlhbG9nLmF0dGFjaCgpXG5cbiAgcmVtb3ZlUHJvamVjdEZvbGRlcjogKGUpIC0+XG4gICAgcGF0aFRvUmVtb3ZlID0gZS50YXJnZXQuY2xvc2VzdChcIi5wcm9qZWN0LXJvb3QgPiAuaGVhZGVyXCIpPy5xdWVyeVNlbGVjdG9yKFwiLm5hbWVcIik/LmRhdGFzZXQucGF0aFxuXG4gICAgIyBUT0RPOiByZW1vdmUgdGhpcyBjb25kaXRpb25hbCBvbmNlIHRoZSBhZGRpdGlvbiBvZiBQcm9qZWN0OjpyZW1vdmVQYXRoXG4gICAgIyBpcyByZWxlYXNlZC5cbiAgICBpZiBhdG9tLnByb2plY3QucmVtb3ZlUGF0aD9cbiAgICAgIGF0b20ucHJvamVjdC5yZW1vdmVQYXRoKHBhdGhUb1JlbW92ZSkgaWYgcGF0aFRvUmVtb3ZlP1xuXG4gIHNlbGVjdGVkRW50cnk6IC0+XG4gICAgQGxpc3QucXVlcnlTZWxlY3RvcignLnNlbGVjdGVkJylcblxuICBzZWxlY3RFbnRyeTogKGVudHJ5KSAtPlxuICAgIHJldHVybiB1bmxlc3MgZW50cnk/XG5cbiAgICBAc2VsZWN0ZWRQYXRoID0gZW50cnkuZ2V0UGF0aCgpXG5cbiAgICBzZWxlY3RlZEVudHJpZXMgPSBAZ2V0U2VsZWN0ZWRFbnRyaWVzKClcbiAgICBpZiBzZWxlY3RlZEVudHJpZXMubGVuZ3RoID4gMSBvciBzZWxlY3RlZEVudHJpZXNbMF0gaXNudCBlbnRyeVxuICAgICAgQGRlc2VsZWN0KHNlbGVjdGVkRW50cmllcylcbiAgICAgIGVudHJ5LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJylcbiAgICBlbnRyeVxuXG4gIGdldFNlbGVjdGVkRW50cmllczogLT5cbiAgICBAbGlzdC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKVxuXG4gIGRlc2VsZWN0OiAoZWxlbWVudHNUb0Rlc2VsZWN0PUBnZXRTZWxlY3RlZEVudHJpZXMoKSkgLT5cbiAgICBzZWxlY3RlZC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpIGZvciBzZWxlY3RlZCBpbiBlbGVtZW50c1RvRGVzZWxlY3RcbiAgICB1bmRlZmluZWRcblxuICBzY3JvbGxUb3A6ICh0b3ApIC0+XG4gICAgaWYgdG9wP1xuICAgICAgQGVsZW1lbnQuc2Nyb2xsVG9wID0gdG9wXG4gICAgZWxzZVxuICAgICAgQGVsZW1lbnQuc2Nyb2xsVG9wXG5cbiAgc2Nyb2xsQm90dG9tOiAoYm90dG9tKSAtPlxuICAgIGlmIGJvdHRvbT9cbiAgICAgIEBlbGVtZW50LnNjcm9sbFRvcCA9IGJvdHRvbSAtIEBlbGVtZW50Lm9mZnNldEhlaWdodFxuICAgIGVsc2VcbiAgICAgIEBlbGVtZW50LnNjcm9sbFRvcCArIEBlbGVtZW50Lm9mZnNldEhlaWdodFxuXG4gIHNjcm9sbFRvRW50cnk6IChlbnRyeSkgLT5cbiAgICBlbGVtZW50ID0gaWYgZW50cnk/LmNsYXNzTGlzdC5jb250YWlucygnZGlyZWN0b3J5JykgdGhlbiBlbnRyeS5oZWFkZXIgZWxzZSBlbnRyeVxuICAgIGVsZW1lbnQ/LnNjcm9sbEludG9WaWV3SWZOZWVkZWQodHJ1ZSkgIyB0cnVlID0gY2VudGVyIGFyb3VuZCBpdGVtIGlmIHBvc3NpYmxlXG5cbiAgc2Nyb2xsVG9Cb3R0b206IC0+XG4gICAgaWYgbGFzdEVudHJ5ID0gXy5sYXN0KEBsaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbnRyeScpKVxuICAgICAgQHNlbGVjdEVudHJ5KGxhc3RFbnRyeSlcbiAgICAgIEBzY3JvbGxUb0VudHJ5KGxhc3RFbnRyeSlcblxuICBzY3JvbGxUb1RvcDogLT5cbiAgICBAc2VsZWN0RW50cnkoQHJvb3RzWzBdKSBpZiBAcm9vdHNbMF0/XG4gICAgQGVsZW1lbnQuc2Nyb2xsVG9wID0gMFxuXG4gIHBhZ2VVcDogLT5cbiAgICBAZWxlbWVudC5zY3JvbGxUb3AgLT0gQGVsZW1lbnQub2Zmc2V0SGVpZ2h0XG5cbiAgcGFnZURvd246IC0+XG4gICAgQGVsZW1lbnQuc2Nyb2xsVG9wICs9IEBlbGVtZW50Lm9mZnNldEhlaWdodFxuXG4gIG1vdmVFbnRyeTogKGluaXRpYWxQYXRoLCBuZXdEaXJlY3RvcnlQYXRoKSAtPlxuICAgIGlmIGluaXRpYWxQYXRoIGlzIG5ld0RpcmVjdG9yeVBhdGhcbiAgICAgIHJldHVyblxuXG4gICAgZW50cnlOYW1lID0gcGF0aC5iYXNlbmFtZShpbml0aWFsUGF0aClcbiAgICBuZXdQYXRoID0gXCIje25ld0RpcmVjdG9yeVBhdGh9LyN7ZW50cnlOYW1lfVwiLnJlcGxhY2UoL1xccyskLywgJycpXG5cbiAgICB0cnlcbiAgICAgIGZzLm1ha2VUcmVlU3luYyhuZXdEaXJlY3RvcnlQYXRoKSB1bmxlc3MgZnMuZXhpc3RzU3luYyhuZXdEaXJlY3RvcnlQYXRoKVxuICAgICAgZnMubW92ZVN5bmMoaW5pdGlhbFBhdGgsIG5ld1BhdGgpXG4gICAgICBAZW1pdHRlci5lbWl0ICdlbnRyeS1tb3ZlZCcsIHtpbml0aWFsUGF0aCwgbmV3UGF0aH1cblxuICAgICAgaWYgcmVwbyA9IHJlcG9Gb3JQYXRoKG5ld1BhdGgpXG4gICAgICAgIHJlcG8uZ2V0UGF0aFN0YXR1cyhpbml0aWFsUGF0aClcbiAgICAgICAgcmVwby5nZXRQYXRoU3RhdHVzKG5ld1BhdGgpXG5cbiAgICBjYXRjaCBlcnJvclxuICAgICAgYXRvbS5ub3RpZmljYXRpb25zLmFkZFdhcm5pbmcoXCJGYWlsZWQgdG8gbW92ZSBlbnRyeSAje2luaXRpYWxQYXRofSB0byAje25ld0RpcmVjdG9yeVBhdGh9XCIsIGRldGFpbDogZXJyb3IubWVzc2FnZSlcblxuICBvblN0eWxlc2hlZXRzQ2hhbmdlZDogPT5cbiAgICAjIElmIHZpc2libGUsIGZvcmNlIGEgcmVkcmF3IHNvIHRoZSBzY3JvbGxiYXJzIGFyZSBzdHlsZWQgY29ycmVjdGx5IGJhc2VkIG9uXG4gICAgIyB0aGUgdGhlbWVcbiAgICByZXR1cm4gdW5sZXNzIEBpc1Zpc2libGUoKVxuICAgIEBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICBAZWxlbWVudC5vZmZzZXRXaWR0aFxuICAgIEBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJ1xuXG4gIG9uTW91c2VEb3duOiAoZSkgLT5cbiAgICBpZiBlbnRyeVRvU2VsZWN0ID0gZS50YXJnZXQuY2xvc2VzdCgnLmVudHJ5JylcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgICAgIyByZXR1cm4gZWFybHkgaWYgd2UncmUgb3BlbmluZyBhIGNvbnRleHR1YWwgbWVudSAocmlnaHQgY2xpY2spIGR1cmluZyBtdWx0aS1zZWxlY3QgbW9kZVxuICAgICAgaWYgQG11bHRpU2VsZWN0RW5hYmxlZCgpIGFuZFxuICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIGFuZFxuICAgICAgICAgIyBtb3VzZSByaWdodCBjbGljayBvciBjdHJsIGNsaWNrIGFzIHJpZ2h0IGNsaWNrIG9uIGRhcndpbiBwbGF0Zm9ybXNcbiAgICAgICAgIChlLmJ1dHRvbiBpcyAyIG9yIGUuY3RybEtleSBhbmQgcHJvY2Vzcy5wbGF0Zm9ybSBpcyAnZGFyd2luJylcbiAgICAgICAgcmV0dXJuXG5cbiAgICAgIGlmIGUuc2hpZnRLZXlcbiAgICAgICAgQHNlbGVjdENvbnRpbnVvdXNFbnRyaWVzKGVudHJ5VG9TZWxlY3QpXG4gICAgICAgIEBzaG93TXVsdGlTZWxlY3RNZW51KClcbiAgICAgICMgb25seSBhbGxvdyBjdHJsIGNsaWNrIGZvciBtdWx0aSBzZWxlY3Rpb24gb24gbm9uIGRhcndpbiBzeXN0ZW1zXG4gICAgICBlbHNlIGlmIGUubWV0YUtleSBvciAoZS5jdHJsS2V5IGFuZCBwcm9jZXNzLnBsYXRmb3JtIGlzbnQgJ2RhcndpbicpXG4gICAgICAgIEBzZWxlY3RNdWx0aXBsZUVudHJpZXMoZW50cnlUb1NlbGVjdClcblxuICAgICAgICAjIG9ubHkgc2hvdyB0aGUgbXVsdGkgc2VsZWN0IG1lbnUgaWYgbW9yZSB0aGVuIG9uZSBmaWxlL2RpcmVjdG9yeSBpcyBzZWxlY3RlZFxuICAgICAgICBAc2hvd011bHRpU2VsZWN0TWVudSgpIGlmIEBzZWxlY3RlZFBhdGhzKCkubGVuZ3RoID4gMVxuICAgICAgZWxzZVxuICAgICAgICBAc2VsZWN0RW50cnkoZW50cnlUb1NlbGVjdClcbiAgICAgICAgQHNob3dGdWxsTWVudSgpXG5cbiAgIyBQdWJsaWM6IFJldHVybiBhbiBhcnJheSBvZiBwYXRocyBmcm9tIGFsbCBzZWxlY3RlZCBpdGVtc1xuICAjXG4gICMgRXhhbXBsZTogQHNlbGVjdGVkUGF0aHMoKVxuICAjID0+IFsnc2VsZWN0ZWQvcGF0aC9vbmUnLCAnc2VsZWN0ZWQvcGF0aC90d28nLCAnc2VsZWN0ZWQvcGF0aC90aHJlZSddXG4gICMgUmV0dXJucyBBcnJheSBvZiBzZWxlY3RlZCBpdGVtIHBhdGhzXG4gIHNlbGVjdGVkUGF0aHM6IC0+XG4gICAgZW50cnkuZ2V0UGF0aCgpIGZvciBlbnRyeSBpbiBAZ2V0U2VsZWN0ZWRFbnRyaWVzKClcblxuICAjIFB1YmxpYzogU2VsZWN0cyBpdGVtcyB3aXRoaW4gYSByYW5nZSBkZWZpbmVkIGJ5IGEgY3VycmVudGx5IHNlbGVjdGVkIGVudHJ5IGFuZFxuICAjICAgICAgICAgYSBuZXcgZ2l2ZW4gZW50cnkuIFRoaXMgaXMgc2hpZnQrY2xpY2sgZnVuY3Rpb25hbGl0eVxuICAjXG4gICMgUmV0dXJucyBhcnJheSBvZiBzZWxlY3RlZCBlbGVtZW50c1xuICBzZWxlY3RDb250aW51b3VzRW50cmllczogKGVudHJ5KSAtPlxuICAgIGN1cnJlbnRTZWxlY3RlZEVudHJ5ID0gQHNlbGVjdGVkRW50cnkoKVxuICAgIHBhcmVudENvbnRhaW5lciA9IGVudHJ5LnBhcmVudEVsZW1lbnRcbiAgICBpZiBwYXJlbnRDb250YWluZXIuY29udGFpbnMoY3VycmVudFNlbGVjdGVkRW50cnkpXG4gICAgICBlbnRyaWVzID0gQXJyYXkuZnJvbShwYXJlbnRDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmVudHJ5JykpXG4gICAgICBlbnRyeUluZGV4ID0gZW50cmllcy5pbmRleE9mKGVudHJ5KVxuICAgICAgc2VsZWN0ZWRJbmRleCA9IGVudHJpZXMuaW5kZXhPZihjdXJyZW50U2VsZWN0ZWRFbnRyeSlcbiAgICAgIGVsZW1lbnRzID0gKGVudHJpZXNbaV0gZm9yIGkgaW4gW2VudHJ5SW5kZXguLnNlbGVjdGVkSW5kZXhdKVxuXG4gICAgICBAZGVzZWxlY3QoKVxuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpIGZvciBlbGVtZW50IGluIGVsZW1lbnRzXG5cbiAgICBlbGVtZW50c1xuXG4gICMgUHVibGljOiBTZWxlY3RzIGNvbnNlY3V0aXZlIGdpdmVuIGVudHJpZXMgd2l0aG91dCBjbGVhcmluZyBwcmV2aW91c2x5IHNlbGVjdGVkXG4gICMgICAgICAgICBpdGVtcy4gVGhpcyBpcyBjbWQrY2xpY2sgZnVuY3Rpb25hbGl0eVxuICAjXG4gICMgUmV0dXJucyBnaXZlbiBlbnRyeVxuICBzZWxlY3RNdWx0aXBsZUVudHJpZXM6IChlbnRyeSkgLT5cbiAgICBlbnRyeT8uY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnKVxuICAgIGVudHJ5XG5cbiAgIyBQdWJsaWM6IFRvZ2dsZSBmdWxsLW1lbnUgY2xhc3Mgb24gdGhlIG1haW4gbGlzdCBlbGVtZW50IHRvIGRpc3BsYXkgdGhlIGZ1bGwgY29udGV4dFxuICAjICAgICAgICAgbWVudS5cbiAgc2hvd0Z1bGxNZW51OiAtPlxuICAgIEBsaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ211bHRpLXNlbGVjdCcpXG4gICAgQGxpc3QuY2xhc3NMaXN0LmFkZCgnZnVsbC1tZW51JylcblxuICAjIFB1YmxpYzogVG9nZ2xlIG11bHRpLXNlbGVjdCBjbGFzcyBvbiB0aGUgbWFpbiBsaXN0IGVsZW1lbnQgdG8gZGlzcGxheSB0aGUgdGhlXG4gICMgICAgICAgICBtZW51IHdpdGggb25seSBpdGVtcyB0aGF0IG1ha2Ugc2Vuc2UgZm9yIG11bHRpIHNlbGVjdCBmdW5jdGlvbmFsaXR5XG4gIHNob3dNdWx0aVNlbGVjdE1lbnU6IC0+XG4gICAgQGxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnZnVsbC1tZW51JylcbiAgICBAbGlzdC5jbGFzc0xpc3QuYWRkKCdtdWx0aS1zZWxlY3QnKVxuXG4gICMgUHVibGljOiBDaGVjayBmb3IgbXVsdGktc2VsZWN0IGNsYXNzIG9uIHRoZSBtYWluIGxpc3RcbiAgI1xuICAjIFJldHVybnMgYm9vbGVhblxuICBtdWx0aVNlbGVjdEVuYWJsZWQ6IC0+XG4gICAgQGxpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdtdWx0aS1zZWxlY3QnKVxuXG4gIG9uRHJhZ0VudGVyOiAoZSkgPT5cbiAgICBpZiBoZWFkZXIgPSBlLnRhcmdldC5jbG9zZXN0KCcuZW50cnkuZGlyZWN0b3J5ID4gLmhlYWRlcicpXG4gICAgICByZXR1cm4gaWYgQHJvb3REcmFnQW5kRHJvcC5pc0RyYWdnaW5nKGUpXG5cbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgICAgZW50cnkgPSBoZWFkZXIucGFyZW50Tm9kZVxuICAgICAgQGRyYWdFdmVudENvdW50cy5zZXQoZW50cnksIDApIHVubGVzcyBAZHJhZ0V2ZW50Q291bnRzLmdldChlbnRyeSlcbiAgICAgIGVudHJ5LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJykgaWYgQGRyYWdFdmVudENvdW50cy5nZXQoZW50cnkpIGlzIDBcbiAgICAgIEBkcmFnRXZlbnRDb3VudHMuc2V0KGVudHJ5LCBAZHJhZ0V2ZW50Q291bnRzLmdldChlbnRyeSkgKyAxKVxuXG4gIG9uRHJhZ0xlYXZlOiAoZSkgPT5cbiAgICBpZiBoZWFkZXIgPSBlLnRhcmdldC5jbG9zZXN0KCcuZW50cnkuZGlyZWN0b3J5ID4gLmhlYWRlcicpXG4gICAgICByZXR1cm4gaWYgQHJvb3REcmFnQW5kRHJvcC5pc0RyYWdnaW5nKGUpXG5cbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgICAgZW50cnkgPSBoZWFkZXIucGFyZW50Tm9kZVxuICAgICAgQGRyYWdFdmVudENvdW50cy5zZXQoZW50cnksIEBkcmFnRXZlbnRDb3VudHMuZ2V0KGVudHJ5KSAtIDEpXG4gICAgICBlbnRyeS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpIGlmIEBkcmFnRXZlbnRDb3VudHMuZ2V0KGVudHJ5KSBpcyAwXG5cbiAgIyBIYW5kbGUgZW50cnkgbmFtZSBvYmplY3QgZHJhZ3N0YXJ0IGV2ZW50XG4gIG9uRHJhZ1N0YXJ0OiAoZSkgLT5cbiAgICBpZiBlbnRyeSA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5lbnRyeScpXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICAgIGlmIEByb290RHJhZ0FuZERyb3AuY2FuRHJhZ1N0YXJ0KGUpXG4gICAgICAgIHJldHVybiBAcm9vdERyYWdBbmREcm9wLm9uRHJhZ1N0YXJ0KGUpXG5cbiAgICAgIHRhcmdldCA9IGVudHJ5LnF1ZXJ5U2VsZWN0b3IoXCIubmFtZVwiKVxuICAgICAgaW5pdGlhbFBhdGggPSB0YXJnZXQuZGF0YXNldC5wYXRoXG5cbiAgICAgIGZpbGVOYW1lRWxlbWVudCA9IHRhcmdldC5jbG9uZU5vZGUodHJ1ZSlcbiAgICAgIGZvciBrZXksIHZhbHVlIG9mIGdldFN0eWxlT2JqZWN0KHRhcmdldClcbiAgICAgICAgZmlsZU5hbWVFbGVtZW50LnN0eWxlW2tleV0gPSB2YWx1ZVxuICAgICAgZmlsZU5hbWVFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJ1xuICAgICAgZmlsZU5hbWVFbGVtZW50LnN0eWxlLnRvcCA9IDBcbiAgICAgIGZpbGVOYW1lRWxlbWVudC5zdHlsZS5sZWZ0ID0gMFxuICAgICAgIyBFbnN1cmUgdGhlIGNsb25lZCBmaWxlIG5hbWUgZWxlbWVudCBpcyByZW5kZXJlZCBvbiBhIHNlcGFyYXRlIEdQVSBsYXllclxuICAgICAgIyB0byBwcmV2ZW50IG92ZXJsYXBwaW5nIGVsZW1lbnRzIGxvY2F0ZWQgYXQgKDBweCwgMHB4KSBmcm9tIGJlaW5nIHVzZWQgYXNcbiAgICAgICMgdGhlIGRyYWcgaW1hZ2UuXG4gICAgICBmaWxlTmFtZUVsZW1lbnQuc3R5bGUud2lsbENoYW5nZSA9ICd0cmFuc2Zvcm0nXG5cbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZmlsZU5hbWVFbGVtZW50KVxuXG4gICAgICBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gXCJtb3ZlXCJcbiAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShmaWxlTmFtZUVsZW1lbnQsIDAsIDApXG4gICAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiaW5pdGlhbFBhdGhcIiwgaW5pdGlhbFBhdGgpXG5cbiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgLT5cbiAgICAgICAgZmlsZU5hbWVFbGVtZW50LnJlbW92ZSgpXG5cbiAgIyBIYW5kbGUgZW50cnkgZHJhZ292ZXIgZXZlbnQ7IHJlc2V0IGRlZmF1bHQgZHJhZ292ZXIgYWN0aW9uc1xuICBvbkRyYWdPdmVyOiAoZSkgLT5cbiAgICBpZiBlbnRyeSA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5lbnRyeScpXG4gICAgICByZXR1cm4gaWYgQHJvb3REcmFnQW5kRHJvcC5pc0RyYWdnaW5nKGUpXG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgICBpZiBAZHJhZ0V2ZW50Q291bnRzLmdldChlbnRyeSkgPiAwIGFuZCBub3QgZW50cnkuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgIGVudHJ5LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJylcblxuICAjIEhhbmRsZSBlbnRyeSBkcm9wIGV2ZW50XG4gIG9uRHJvcDogKGUpIC0+XG4gICAgaWYgZW50cnkgPSBlLnRhcmdldC5jbG9zZXN0KCcuZW50cnknKVxuICAgICAgcmV0dXJuIGlmIEByb290RHJhZ0FuZERyb3AuaXNEcmFnZ2luZyhlKVxuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgICAgZW50cnkuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKVxuXG4gICAgICByZXR1cm4gdW5sZXNzIGVudHJ5LmNsYXNzTGlzdC5jb250YWlucygnZGlyZWN0b3J5JylcblxuICAgICAgbmV3RGlyZWN0b3J5UGF0aCA9IGVudHJ5LnF1ZXJ5U2VsZWN0b3IoJy5uYW1lJyk/LmRhdGFzZXQucGF0aFxuICAgICAgcmV0dXJuIGZhbHNlIHVubGVzcyBuZXdEaXJlY3RvcnlQYXRoXG5cbiAgICAgIGluaXRpYWxQYXRoID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcImluaXRpYWxQYXRoXCIpXG5cbiAgICAgIGlmIGluaXRpYWxQYXRoXG4gICAgICAgICMgRHJvcCBldmVudCBmcm9tIEF0b21cbiAgICAgICAgQG1vdmVFbnRyeShpbml0aWFsUGF0aCwgbmV3RGlyZWN0b3J5UGF0aClcbiAgICAgIGVsc2VcbiAgICAgICAgIyBEcm9wIGV2ZW50IGZyb20gT1NcbiAgICAgICAgZm9yIGZpbGUgaW4gZS5kYXRhVHJhbnNmZXIuZmlsZXNcbiAgICAgICAgICBAbW92ZUVudHJ5KGZpbGUucGF0aCwgbmV3RGlyZWN0b3J5UGF0aClcblxuICBpc1Zpc2libGU6IC0+XG4gICAgQGVsZW1lbnQub2Zmc2V0V2lkdGggaXNudCAwIG9yIEBlbGVtZW50Lm9mZnNldEhlaWdodCBpc250IDBcbiJdfQ==
