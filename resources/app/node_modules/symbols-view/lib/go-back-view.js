Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/** @babel */

var _symbolsView = require('./symbols-view');

var _symbolsView2 = _interopRequireDefault(_symbolsView);

var GoBackView = (function (_SymbolsView) {
  _inherits(GoBackView, _SymbolsView);

  function GoBackView() {
    _classCallCheck(this, GoBackView);

    _get(Object.getPrototypeOf(GoBackView.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(GoBackView, [{
    key: 'toggle',
    value: function toggle() {
      var _this = this;

      var previousTag = this.stack.pop();
      if (!previousTag) {
        return;
      }

      var restorePosition = function restorePosition() {
        if (previousTag.position) {
          _this.moveToPosition(previousTag.position, false);
        }
      };

      var previousEditor = atom.workspace.getTextEditors().find(function (e) {
        return e.id === previousTag.editorId;
      });

      if (previousEditor) {
        var pane = atom.workspace.paneForItem(previousEditor);
        pane.setActiveItem(previousEditor);
        restorePosition();
      } else if (previousTag.file) {
        atom.workspace.open(previousTag.file).then(restorePosition);
      }
    }
  }]);

  return GoBackView;
})(_symbolsView2['default']);

exports['default'] = GoBackView;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vQzovcHJvamVjdHMvYXRvbS9vdXQvYXBwL25vZGVfbW9kdWxlcy9zeW1ib2xzLXZpZXcvbGliL2dvLWJhY2stdmlldy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OzJCQUV3QixnQkFBZ0I7Ozs7SUFFbkIsVUFBVTtZQUFWLFVBQVU7O1dBQVYsVUFBVTswQkFBVixVQUFVOzsrQkFBVixVQUFVOzs7ZUFBVixVQUFVOztXQUN2QixrQkFBRzs7O0FBQ1AsVUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNyQyxVQUFJLENBQUMsV0FBVyxFQUFFO0FBQ2hCLGVBQU87T0FDUjs7QUFFRCxVQUFNLGVBQWUsR0FBRyxTQUFsQixlQUFlLEdBQVM7QUFDNUIsWUFBSSxXQUFXLENBQUMsUUFBUSxFQUFFO0FBQ3hCLGdCQUFLLGNBQWMsQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ2xEO09BQ0YsQ0FBQzs7QUFFRixVQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFBLENBQUM7ZUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLFdBQVcsQ0FBQyxRQUFRO09BQUEsQ0FBQyxDQUFDOztBQUVoRyxVQUFJLGNBQWMsRUFBRTtBQUNsQixZQUFNLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUN4RCxZQUFJLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQ25DLHVCQUFlLEVBQUUsQ0FBQztPQUNuQixNQUFNLElBQUksV0FBVyxDQUFDLElBQUksRUFBRTtBQUMzQixZQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO09BQzdEO0tBQ0Y7OztTQXRCa0IsVUFBVTs7O3FCQUFWLFVBQVUiLCJmaWxlIjoiZmlsZTovLy9DOi9wcm9qZWN0cy9hdG9tL291dC9hcHAvbm9kZV9tb2R1bGVzL3N5bWJvbHMtdmlldy9saWIvZ28tYmFjay12aWV3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBiYWJlbCAqL1xuXG5pbXBvcnQgU3ltYm9sc1ZpZXcgZnJvbSAnLi9zeW1ib2xzLXZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHb0JhY2tWaWV3IGV4dGVuZHMgU3ltYm9sc1ZpZXcge1xuICB0b2dnbGUoKSB7XG4gICAgY29uc3QgcHJldmlvdXNUYWcgPSB0aGlzLnN0YWNrLnBvcCgpO1xuICAgIGlmICghcHJldmlvdXNUYWcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZXN0b3JlUG9zaXRpb24gPSAoKSA9PiB7XG4gICAgICBpZiAocHJldmlvdXNUYWcucG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5tb3ZlVG9Qb3NpdGlvbihwcmV2aW91c1RhZy5wb3NpdGlvbiwgZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwcmV2aW91c0VkaXRvciA9IGF0b20ud29ya3NwYWNlLmdldFRleHRFZGl0b3JzKCkuZmluZChlID0+IGUuaWQgPT09IHByZXZpb3VzVGFnLmVkaXRvcklkKTtcblxuICAgIGlmIChwcmV2aW91c0VkaXRvcikge1xuICAgICAgY29uc3QgcGFuZSA9IGF0b20ud29ya3NwYWNlLnBhbmVGb3JJdGVtKHByZXZpb3VzRWRpdG9yKTtcbiAgICAgIHBhbmUuc2V0QWN0aXZlSXRlbShwcmV2aW91c0VkaXRvcik7XG4gICAgICByZXN0b3JlUG9zaXRpb24oKTtcbiAgICB9IGVsc2UgaWYgKHByZXZpb3VzVGFnLmZpbGUpIHtcbiAgICAgIGF0b20ud29ya3NwYWNlLm9wZW4ocHJldmlvdXNUYWcuZmlsZSkudGhlbihyZXN0b3JlUG9zaXRpb24pO1xuICAgIH1cbiAgfVxufVxuIl19