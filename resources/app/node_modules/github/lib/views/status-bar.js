'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _class, _temp;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// TODO: updates, unmount
let StatusBar = (_temp = _class = class StatusBar extends _react2.default.Component {

  componentDidMount() {
    this.consumeStatusBar();
  }

  componentDidUpdate() {
    this.consumeStatusBar();
  }

  render() {
    return _react2.default.createElement(
      'div',
      { ref: c => {
          this.container = c;
        } },
      this.props.children
    );
  }

  consumeStatusBar() {
    if (this.tile) {
      return;
    }
    if (!this.props.statusBar) {
      return;
    }

    const componentElement = this.container.children[0];
    this.tile = this.props.statusBar.addRightTile({ item: componentElement, priority: -50 });
    this.props.onConsumeStatusBar(this.props.statusBar);
  }
}, _class.propTypes = {
  children: _propTypes2.default.element.isRequired,
  statusBar: _propTypes2.default.object,
  onConsumeStatusBar: _propTypes2.default.func
}, _class.defaultProps = {
  onConsumeStatusBar: statusBar => {}
}, _temp);
exports.default = StatusBar;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0YXR1cy1iYXIuanMiXSwibmFtZXMiOlsiU3RhdHVzQmFyIiwiQ29tcG9uZW50IiwiY29tcG9uZW50RGlkTW91bnQiLCJjb25zdW1lU3RhdHVzQmFyIiwiY29tcG9uZW50RGlkVXBkYXRlIiwicmVuZGVyIiwiYyIsImNvbnRhaW5lciIsInByb3BzIiwiY2hpbGRyZW4iLCJ0aWxlIiwic3RhdHVzQmFyIiwiY29tcG9uZW50RWxlbWVudCIsImFkZFJpZ2h0VGlsZSIsIml0ZW0iLCJwcmlvcml0eSIsIm9uQ29uc3VtZVN0YXR1c0JhciIsInByb3BUeXBlcyIsImVsZW1lbnQiLCJpc1JlcXVpcmVkIiwib2JqZWN0IiwiZnVuYyIsImRlZmF1bHRQcm9wcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUE7SUFDcUJBLFMscUJBQU4sTUFBTUEsU0FBTixTQUF3QixnQkFBTUMsU0FBOUIsQ0FBd0M7O0FBV3JEQyxzQkFBb0I7QUFDbEIsU0FBS0MsZ0JBQUw7QUFDRDs7QUFFREMsdUJBQXFCO0FBQ25CLFNBQUtELGdCQUFMO0FBQ0Q7O0FBRURFLFdBQVM7QUFDUCxXQUFPO0FBQUE7QUFBQSxRQUFLLEtBQUtDLEtBQUs7QUFBRSxlQUFLQyxTQUFMLEdBQWlCRCxDQUFqQjtBQUFxQixTQUF0QztBQUF5QyxXQUFLRSxLQUFMLENBQVdDO0FBQXBELEtBQVA7QUFDRDs7QUFFRE4scUJBQW1CO0FBQ2pCLFFBQUksS0FBS08sSUFBVCxFQUFlO0FBQUU7QUFBUztBQUMxQixRQUFJLENBQUMsS0FBS0YsS0FBTCxDQUFXRyxTQUFoQixFQUEyQjtBQUFFO0FBQVM7O0FBRXRDLFVBQU1DLG1CQUFtQixLQUFLTCxTQUFMLENBQWVFLFFBQWYsQ0FBd0IsQ0FBeEIsQ0FBekI7QUFDQSxTQUFLQyxJQUFMLEdBQVksS0FBS0YsS0FBTCxDQUFXRyxTQUFYLENBQXFCRSxZQUFyQixDQUFrQyxFQUFDQyxNQUFNRixnQkFBUCxFQUF5QkcsVUFBVSxDQUFDLEVBQXBDLEVBQWxDLENBQVo7QUFDQSxTQUFLUCxLQUFMLENBQVdRLGtCQUFYLENBQThCLEtBQUtSLEtBQUwsQ0FBV0csU0FBekM7QUFDRDtBQTlCb0QsQyxTQUM5Q00sUyxHQUFZO0FBQ2pCUixZQUFVLG9CQUFVUyxPQUFWLENBQWtCQyxVQURYO0FBRWpCUixhQUFXLG9CQUFVUyxNQUZKO0FBR2pCSixzQkFBb0Isb0JBQVVLO0FBSGIsQyxTQU1aQyxZLEdBQWU7QUFDcEJOLHNCQUFvQkwsYUFBYSxDQUFFO0FBRGYsQztrQkFQSFgsUyIsImZpbGUiOiJzdGF0dXMtYmFyLmpzIiwic291cmNlUm9vdCI6IkM6L3Byb2plY3RzL2F0b20vb3V0L2FwcC9ub2RlX21vZHVsZXMvZ2l0aHViIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbi8vIFRPRE86IHVwZGF0ZXMsIHVubW91bnRcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXR1c0JhciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5lbGVtZW50LmlzUmVxdWlyZWQsXG4gICAgc3RhdHVzQmFyOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIG9uQ29uc3VtZVN0YXR1c0JhcjogUHJvcFR5cGVzLmZ1bmMsXG4gIH1cblxuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIG9uQ29uc3VtZVN0YXR1c0Jhcjogc3RhdHVzQmFyID0+IHt9LFxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5jb25zdW1lU3RhdHVzQmFyKCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5jb25zdW1lU3RhdHVzQmFyKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgcmVmPXtjID0+IHsgdGhpcy5jb250YWluZXIgPSBjOyB9fT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2Rpdj47XG4gIH1cblxuICBjb25zdW1lU3RhdHVzQmFyKCkge1xuICAgIGlmICh0aGlzLnRpbGUpIHsgcmV0dXJuOyB9XG4gICAgaWYgKCF0aGlzLnByb3BzLnN0YXR1c0JhcikgeyByZXR1cm47IH1cblxuICAgIGNvbnN0IGNvbXBvbmVudEVsZW1lbnQgPSB0aGlzLmNvbnRhaW5lci5jaGlsZHJlblswXTtcbiAgICB0aGlzLnRpbGUgPSB0aGlzLnByb3BzLnN0YXR1c0Jhci5hZGRSaWdodFRpbGUoe2l0ZW06IGNvbXBvbmVudEVsZW1lbnQsIHByaW9yaXR5OiAtNTB9KTtcbiAgICB0aGlzLnByb3BzLm9uQ29uc3VtZVN0YXR1c0Jhcih0aGlzLnByb3BzLnN0YXR1c0Jhcik7XG4gIH1cbn1cbiJdfQ==