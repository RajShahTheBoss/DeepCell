'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _state = require('./state');

var _state2 = _interopRequireDefault(_state);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * The package is being cleaned up or the context is being disposed some other way.
 */
let Destroyed = class Destroyed extends _state2.default {
  start() {
    this.didDestroy();
    this.repository.git.destroy && this.repository.git.destroy();
    this.repository.emitter.dispose();
  }

  isDestroyed() {
    return true;
  }

  destroy() {
    // No-op to destroy twice
  }
};
exports.default = Destroyed;


_state2.default.register(Destroyed);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlc3Ryb3llZC5qcyJdLCJuYW1lcyI6WyJEZXN0cm95ZWQiLCJzdGFydCIsImRpZERlc3Ryb3kiLCJyZXBvc2l0b3J5IiwiZ2l0IiwiZGVzdHJveSIsImVtaXR0ZXIiLCJkaXNwb3NlIiwiaXNEZXN0cm95ZWQiLCJyZWdpc3RlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7QUFFQTs7O0lBR3FCQSxTLEdBQU4sTUFBTUEsU0FBTix5QkFBOEI7QUFDM0NDLFVBQVE7QUFDTixTQUFLQyxVQUFMO0FBQ0EsU0FBS0MsVUFBTCxDQUFnQkMsR0FBaEIsQ0FBb0JDLE9BQXBCLElBQStCLEtBQUtGLFVBQUwsQ0FBZ0JDLEdBQWhCLENBQW9CQyxPQUFwQixFQUEvQjtBQUNBLFNBQUtGLFVBQUwsQ0FBZ0JHLE9BQWhCLENBQXdCQyxPQUF4QjtBQUNEOztBQUVEQyxnQkFBYztBQUNaLFdBQU8sSUFBUDtBQUNEOztBQUVESCxZQUFVO0FBQ1I7QUFDRDtBQWIwQyxDO2tCQUF4QkwsUzs7O0FBZ0JyQixnQkFBTVMsUUFBTixDQUFlVCxTQUFmIiwiZmlsZSI6ImRlc3Ryb3llZC5qcyIsInNvdXJjZVJvb3QiOiJDOi9wcm9qZWN0cy9hdG9tL291dC9hcHAvbm9kZV9tb2R1bGVzL2dpdGh1YiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTdGF0ZSBmcm9tICcuL3N0YXRlJztcblxuLyoqXG4gKiBUaGUgcGFja2FnZSBpcyBiZWluZyBjbGVhbmVkIHVwIG9yIHRoZSBjb250ZXh0IGlzIGJlaW5nIGRpc3Bvc2VkIHNvbWUgb3RoZXIgd2F5LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZXN0cm95ZWQgZXh0ZW5kcyBTdGF0ZSB7XG4gIHN0YXJ0KCkge1xuICAgIHRoaXMuZGlkRGVzdHJveSgpO1xuICAgIHRoaXMucmVwb3NpdG9yeS5naXQuZGVzdHJveSAmJiB0aGlzLnJlcG9zaXRvcnkuZ2l0LmRlc3Ryb3koKTtcbiAgICB0aGlzLnJlcG9zaXRvcnkuZW1pdHRlci5kaXNwb3NlKCk7XG4gIH1cblxuICBpc0Rlc3Ryb3llZCgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgLy8gTm8tb3AgdG8gZGVzdHJveSB0d2ljZVxuICB9XG59XG5cblN0YXRlLnJlZ2lzdGVyKERlc3Ryb3llZCk7XG4iXX0=